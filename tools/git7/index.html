
<!DOCTYPE html>

<html class="no-js" lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="hellowac的工作学习生活笔记" name="description"/>
<link href="../git6/" rel="prev"/>
<link href="../git8/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.0.13" name="generator"/>
<title>git 工具 - 我的工作学习生活笔记</title>
<link href="../../assets/stylesheets/main.ffa9267a.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.a0c5b2b5.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="red" data-md-color-primary="default" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#7-git">
          跳转至
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--lifted" data-md-component="header">
<nav aria-label="页眉" class="md-header__inner md-grid">
<a aria-label="我的工作学习生活笔记" class="md-header__button md-logo" data-md-component="logo" href="../.." title="我的工作学习生活笔记">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            我的工作学习生活笔记
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              git 工具
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="搜索" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="搜索" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="查找" class="md-search__options">
<button aria-label="清空当前内容" class="md-search__icon md-icon" tabindex="-1" title="清空当前内容" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/hellowac/hellowac.github.io/" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    hellowac的个人博客
  </div>
</a>
</div>
</nav>
<nav aria-label="标签" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
      首页
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../technology/python/">
        技术
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../read/english/bluelevel/">
        阅读
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../invest/webs/">
        理财
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../repos/">
        工具
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../documents/docs/">
        文档
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../e-book/">
      电子书
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../other/front_links/">
        其他
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../about/">
      关于
    </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="导航栏" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="我的工作学习生活笔记" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="我的工作学习生活笔记">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    我的工作学习生活笔记
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/hellowac/hellowac.github.io/" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    hellowac的个人博客
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        首页
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          技术
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          技术
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          Python
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_1">
<span class="md-nav__icon md-icon"></span>
          Python
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/">
        安装
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/pip/">
        pip
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/stringio/">
        StringIO
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/flask/">
        flask
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/logging/">
        logging
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/importlib/">
        importlib
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/pycrypto/">
        crypto
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/petl/">
        petl
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/psutil/">
        psutil
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/docx/">
        Docx
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/excel/">
        Excel
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/reportlab/">
        reportlab
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/alembic/">
        alembic
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/sqlalchemy/">
        sqlalchemy
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/python/useful_functions/">
        常用函数合集
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Linux
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
          Linux
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/linux/usage_source/">
        常用资源
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/linux/port/">
        端口占用查找
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/linux/disk-mount/">
        linux磁盘挂载
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/linux/shell-scripts/">
        shell脚本实战
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          C
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
          C
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/C/c/">
        C基础
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          前端知识
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
          前端知识
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/front/base/">
        基础
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/front/project/">
        工程化流程
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/front/version/">
        包版本知识
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/front/package/">
        package.json知识
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/front/webassembly/">
        WebAssembly
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
          服务组件
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
          服务组件
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/components/zookeeper/">
        zookeeper
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/components/nginx/">
        nginx
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/components/supervisor/">
        supervisor
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/components/rabbitmq/">
        rabbitmq
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/components/kafka/">
        kafka
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_5_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5_6" id="__nav_2_5_6_label" tabindex="0">
          无头浏览器
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_5_6_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_5_6">
<span class="md-nav__icon md-icon"></span>
          无头浏览器
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/unheadchrome/openchrome/">
        openchrome
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/unheadchrome/build_env/">
        环境搭建
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
          数据库
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
          数据库
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/database/clickhouse/">
        ClickHouse
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_6_2" id="__nav_2_6_2_label" tabindex="0">
          MySQL
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_6_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_6_2">
<span class="md-nav__icon md-icon"></span>
          MySQL
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/database/mysql8_install/">
        mysql8
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/database/mysql/">
        常用操作
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_6_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_6_3" id="__nav_2_6_3_label" tabindex="0">
          ElasticSearch
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_6_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_6_3">
<span class="md-nav__icon md-icon"></span>
          ElasticSearch
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/database/elasticsearch_py/">
        elasticsearch-py
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/database/es_dsl/">
        elasticsearch-dsl
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/database/es_aggs/">
        elasticsearch-aggs
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
          安全渗透
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_7">
<span class="md-nav__icon md-icon"></span>
          安全渗透
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/security/thc-hydra/">
        hydra
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/security/sqlmap/">
        sqlmap
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
          RFC标准
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_8">
<span class="md-nav__icon md-icon"></span>
          RFC标准
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/rfc/oauth2/">
        oauth2学习笔记
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/rfc/rfc6749/">
        Oauth2-RFC6749翻译
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/rfc/rfc6750/">
        Oauth2-RFC6750翻译
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
          知识概念
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_9_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_9">
<span class="md-nav__icon md-icon"></span>
          知识概念
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/concept/xaas/">
        xaas概念
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/concept/xaas2/">
        一文搞懂什么是SaaS、BaaS、PaaS和IaaS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/concept/users/">
        统一用户管理
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/concept/etl/">
        ETL数据处理
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/concept/data_transfer/">
        数据传输和对接
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/concept/understand_computer_system/">
        深入理解计算机系统
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
          其他
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_10_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_10">
<span class="md-nav__icon md-icon"></span>
          其他
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/other/embedded_industry/">
        嵌入式行业
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../technology/other/apache_license2/">
        apache license2.0开源协议
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          阅读
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          阅读
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          英语
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
          英语
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/english/bluelevel/">
        BlueLevel
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/english/redlevel/">
        RedLevel
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/howtoreadbook/">
        如何阅读一本书
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/howtoavoid/">
        如何避免愚蠢的见识
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/placeofsoul/">
        灵魂的最高处
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/maliciousmatch/">
        恶意匹配
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
          沟通的艺术
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
          沟通的艺术
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication01/">
        沟通入门
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication02/">
        看入人里:自我
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication03/">
        看入人里:知觉
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication04/">
        看入人里:情绪
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication05/">
        看出人外:语言
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication06/">
        看出人外:非语言沟通
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication07/">
        看出人外:倾听
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication08/">
        看人之间:沟通和关系的演变
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication09/">
        看人之间:人际沟通中的亲密关系
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication10/">
        看人之间:增进沟通气氛
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication11/">
        看人之间:处理人际冲突
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../read/book/artofcommunication12/">
        阅读总结
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          理财
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          理财
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../invest/webs/">
        理财网站
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          工具
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          工具
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../repos/">
        仓库合集
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../git1/">
        git 起步
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../git2/">
        git 基础
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../git3/">
        git 分支
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../git4/">
        git 服务器
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../git5/">
        git 分布式
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../git6/">
        git hub
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          git 工具
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        git 工具
      </a>
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目录
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#71">
    7.1 选择修订版本
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#72">
    7.2 交互式暂存
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#73">
    7.3 贮藏与清理
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#74">
    7.4 签署工作
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#75">
    7.5 搜索
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#76">
    7.6 重写历史
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#77">
    7.7 重置揭密
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#78">
    7.8 高级合并
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#79-rerere">
    7.9 Rerere
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#710-git">
    7.10 使用 Git 调试
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#711">
    7.11 子模块
  </a>
<nav aria-label="7.11 子模块" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    开始使用子模块
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    克隆含有子模块的项目
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    在包含子模块的项目上工作
  </a>
<nav aria-label="在包含子模块的项目上工作" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    从子模块的远端拉取上游修改
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    从项目远端拉取上游更改
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    在子模块上工作
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
    发布子模块改动
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
    合并子模块改动
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
    子模块的技巧
  </a>
<nav aria-label="子模块的技巧" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
    子模块遍历
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_11">
    有用的别名
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_12">
    子模块的问题
  </a>
<nav aria-label="子模块的问题" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_13">
    切换分支
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_14">
    从子目录切换到子模块
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#712">
    7.12 打包
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#713">
    7.13 替换
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#714">
    7.14 凭证存储
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#715">
    7.15 总结
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../git8/">
        git 自定义
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../git9/">
        git 与其他系统
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../git10/">
        git 内部原理
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gita1/">
        git 其他环境中使用
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gita2/">
        git 应用中嵌入
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gita3/">
        git 命令
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          文档
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          文档
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../documents/docs/">
        文档合集
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../e-book/">
        电子书
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          其他
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          其他
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../other/front_links/">
        前端常用地址
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../other/back_links/">
        后端常用地址
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../other/other_links/">
        其他常用地址
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../other/become_leader/">
        成为高手秘籍
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../other/zym_weibo/">
        张一鸣微博
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../other/dynamic_business/">
        动态商业环境
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../other/honeypot_list/">
        蜜罐资源列表
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../other/bigdata_links/">
        大数据资源列表
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../about/">
        关于
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目录
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#71">
    7.1 选择修订版本
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#72">
    7.2 交互式暂存
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#73">
    7.3 贮藏与清理
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#74">
    7.4 签署工作
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#75">
    7.5 搜索
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#76">
    7.6 重写历史
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#77">
    7.7 重置揭密
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#78">
    7.8 高级合并
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#79-rerere">
    7.9 Rerere
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#710-git">
    7.10 使用 Git 调试
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#711">
    7.11 子模块
  </a>
<nav aria-label="7.11 子模块" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    开始使用子模块
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    克隆含有子模块的项目
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    在包含子模块的项目上工作
  </a>
<nav aria-label="在包含子模块的项目上工作" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    从子模块的远端拉取上游修改
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    从项目远端拉取上游更改
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    在子模块上工作
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
    发布子模块改动
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
    合并子模块改动
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
    子模块的技巧
  </a>
<nav aria-label="子模块的技巧" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
    子模块遍历
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_11">
    有用的别名
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_12">
    子模块的问题
  </a>
<nav aria-label="子模块的问题" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_13">
    切换分支
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_14">
    从子目录切换到子模块
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#712">
    7.12 打包
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#713">
    7.13 替换
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#714">
    7.14 凭证存储
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#715">
    7.15 总结
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="7-git">7. <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%80%89%E6%8B%A9%E4%BF%AE%E8%AE%A2%E7%89%88%E6%9C%AC" target="_blank">Git 工具</a></h1>
<h2 id="71">7.1 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%80%89%E6%8B%A9%E4%BF%AE%E8%AE%A2%E7%89%88%E6%9C%AC" target="_blank">选择修订版本</a></h2>
<h2 id="72">7.2 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%9A%82%E5%AD%98" target="_blank">交互式暂存</a></h2>
<h2 id="73">7.3 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E8%B4%AE%E8%97%8F%E4%B8%8E%E6%B8%85%E7%90%86" target="_blank">贮藏与清理</a></h2>
<h2 id="74">7.4 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E7%AD%BE%E7%BD%B2%E5%B7%A5%E4%BD%9C" target="_blank">签署工作</a></h2>
<h2 id="75">7.5 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E6%90%9C%E7%B4%A2" target="_blank">搜索</a></h2>
<h2 id="76">7.6 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2" target="_blank">重写历史</a></h2>
<h2 id="77">7.7 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E7%BD%AE%E6%8F%AD%E5%AF%86" target="_blank">重置揭密</a></h2>
<h2 id="78">7.8 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%AB%98%E7%BA%A7%E5%90%88%E5%B9%B6" target="_blank">高级合并</a></h2>
<h2 id="79-rerere">7.9 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-Rerere" target="_blank">Rerere</a></h2>
<h2 id="710-git">7.10 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E4%BD%BF%E7%94%A8-Git-%E8%B0%83%E8%AF%95" target="_blank">使用 Git 调试</a></h2>
<h2 id="711">7.11 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97" target="_blank">子模块</a></h2>
<p>有种情况我们经常会遇到：某个工作中的项目需要包含并使用另一个项目。 也许是第三方库，或者你独立开发的，用于多个父项目的库。 现在问题来了：你想要把它们当做两个独立的项目，同时又想在一个项目中使用另一个。</p>
<p>我们举一个例子。 假设你正在开发一个网站然后创建了 Atom 订阅。 你决定使用一个库，而不是写自己的 Atom 生成代码。 你可能不得不通过 CPAN 安装或 Ruby gem 来包含共享库中的代码，或者将源代码直接拷贝到自己的项目中。 如果将这个库包含进来，那么无论用何种方式都很难定制它，部署则更加困难，因为你必须确保每一个客户端都包含该库。 如果将代码复制到自己的项目中，那么你做的任何自定义修改都会使合并上游的改动变得困难。</p>
<p>Git 通过子模块来解决这个问题。 子模块允许你将一个 Git 仓库作为另一个 Git 仓库的子目录。 它能让你将另一个仓库克隆到自己的项目中，同时还保持提交的独立。</p>
<h3 id="_1">开始使用子模块</h3>
<p>我们将要演示如何在一个被分成一个主项目与几个子项目的项目上开发。</p>
<p>我们首先将一个已存在的 Git 仓库添加为正在工作的仓库的子模块。 你可以通过在 <code>git submodule add</code> 命令后面加上想要跟踪的项目的相对或绝对 URL 来添加新的子模块。 在本例中，我们将会添加一个名为 “<code>DbConnector</code>” 的库。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>add<span class="w"> </span>https://github.com/chaconinc/DbConnector
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">'DbConnector'</span>...
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">11</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">10</span>/10<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">11</span>/11<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Checking<span class="w"> </span>connectivity...<span class="w"> </span><span class="k">done</span>.
</code></pre></div>
<p>默认情况下，子模块会将子项目放到一个与仓库同名的目录中，本例中是 “<code>DbConnector</code>”。 如果你想要放到其他地方，那么可以在命令结尾添加一个不同的路径。</p>
<p>如果这时运行 git status，你会注意到几件事。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up-to-date<span class="w"> </span>with<span class="w"> </span><span class="s1">'origin/master'</span>.

Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git reset HEAD &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>

<span class="w"> </span>new<span class="w"> </span>file:<span class="w">   </span>.gitmodules
<span class="w"> </span>new<span class="w"> </span>file:<span class="w">   </span>DbConnector
</code></pre></div>
<p>首先应当注意到新的 <code>.gitmodules</code> 文件。 该配置文件保存了项目 <code>URL</code> 与已经拉取的本地目录之间的映射：</p>
<div class="highlight"><pre><span></span><code><span class="k">[submodule "DbConnector"]</span>
<span class="w"> </span><span class="na">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">DbConnector</span>
<span class="w"> </span><span class="na">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://github.com/chaconinc/DbConnector</span>
</code></pre></div>
<p>如果有多个子模块，该文件中就会有多条记录。 要重点注意的是，该文件也像 <code>.gitignore</code> 文件一样受到（通过）版本控制。 它会和该项目的其他部分一同被拉取推送。 这就是克隆该项目的人知道去哪获得子模块的原因。</p>
<div class="admonition info">
<p>由于 <code>.gitmodules</code> 文件中的 URL 是人们首先尝试克隆/拉取的地方，因此请尽可能确保你使用的 URL 大家都能访问。 例如，若你要使用的推送 URL 与他人的拉取 URL 不同，那么请使用他人能访问到的 URL。 你也可以根据自己的需要，通过在本地执行 <code>git config submodule.DbConnector.url &lt;私有URL&gt;</code> 来覆盖这个选项的值。 如果可行的话，一个相对路径会很有帮助。</p>
</div>
<p>在 <code>git status</code> 输出中列出的另一个是项目文件夹记录。 如果你运行 <code>git diff</code>，会看到类似下面的信息：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>--cached<span class="w"> </span>DbConnector
diff<span class="w"> </span>--git<span class="w"> </span>a/DbConnector<span class="w"> </span>b/DbConnector
new<span class="w"> </span>file<span class="w"> </span>mode<span class="w"> </span><span class="m">160000</span>
index<span class="w"> </span><span class="m">0000000</span>..c3f01dc
---<span class="w"> </span>/dev/null
+++<span class="w"> </span>b/DbConnector
@@<span class="w"> </span>-0,0<span class="w"> </span>+1<span class="w"> </span>@@
+Subproject<span class="w"> </span>commit<span class="w"> </span>c3f01dc8862123d317dd46284b05b6892c7b29bc
</code></pre></div>
<p>虽然 DbConnector 是工作目录中的一个子目录，但 Git 还是会将它视作一个子模块。当你不在那个目录中时，Git 并不会跟踪它的内容， 而是将它看作子模块仓库中的某个具体的提交。</p>
<p>如果你想看到更漂亮的差异输出，可以给 <code>git diff</code> 传递 <code>--submodule</code> 选项。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>--cached<span class="w"> </span>--submodule
diff<span class="w"> </span>--git<span class="w"> </span>a/.gitmodules<span class="w"> </span>b/.gitmodules
new<span class="w"> </span>file<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span>
index<span class="w"> </span><span class="m">0000000</span>..71fc376
---<span class="w"> </span>/dev/null
+++<span class="w"> </span>b/.gitmodules
@@<span class="w"> </span>-0,0<span class="w"> </span>+1,3<span class="w"> </span>@@
+<span class="o">[</span>submodule<span class="w"> </span><span class="s2">"DbConnector"</span><span class="o">]</span>
+<span class="w">       </span><span class="nv">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>DbConnector
+<span class="w">       </span><span class="nv">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>https://github.com/chaconinc/DbConnector
Submodule<span class="w"> </span>DbConnector<span class="w"> </span><span class="m">0000000</span>...c3f01dc<span class="w"> </span><span class="o">(</span>new<span class="w"> </span>submodule<span class="o">)</span>
</code></pre></div>
<p>当你提交时，会看到类似下面的信息：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s1">'added DbConnector module'</span>
<span class="o">[</span>master<span class="w"> </span>fb9093c<span class="o">]</span><span class="w"> </span>added<span class="w"> </span>DbConnector<span class="w"> </span>module
<span class="w"> </span><span class="m">2</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">4</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>
<span class="w"> </span>create<span class="w"> </span>mode<span class="w"> </span><span class="m">100644</span><span class="w"> </span>.gitmodules
<span class="w"> </span>create<span class="w"> </span>mode<span class="w"> </span><span class="m">160000</span><span class="w"> </span>DbConnector
<span class="w"> </span><span class="sb">```</span>

<span class="w"> </span>注意<span class="w"> </span><span class="sb">`</span>DbConnector<span class="sb">`</span><span class="w"> </span>记录的<span class="w"> </span><span class="m">160000</span><span class="w"> </span>模式。<span class="w"> </span>这是<span class="w"> </span>Git<span class="w"> </span>中的一种特殊模式，它本质上意味着你是将一次提交记作一项目录记录的，而非将它记录成一个子目录或者一个文件。

最后，推送这些更改：

<span class="sb">```</span>shell
git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master
</code></pre></div>
<h3 id="_2">克隆含有子模块的项目</h3>
<p>接下来我们将会克隆一个含有子模块的项目。 当你在克隆这样的项目时，默认会包含该子模块目录，但其中还没有任何文件：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/chaconinc/MainProject
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">'MainProject'</span>...
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">14</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">13</span>/13<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">1</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">14</span>/14<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Checking<span class="w"> </span>connectivity...<span class="w"> </span><span class="k">done</span>.
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>MainProject
$<span class="w"> </span>ls<span class="w"> </span>-la
total<span class="w"> </span><span class="m">16</span>
drwxr-xr-x<span class="w">   </span><span class="m">9</span><span class="w"> </span>schacon<span class="w">  </span>staff<span class="w">  </span><span class="m">306</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:21<span class="w"> </span>.
drwxr-xr-x<span class="w">   </span><span class="m">7</span><span class="w"> </span>schacon<span class="w">  </span>staff<span class="w">  </span><span class="m">238</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:21<span class="w"> </span>..
drwxr-xr-x<span class="w">  </span><span class="m">13</span><span class="w"> </span>schacon<span class="w">  </span>staff<span class="w">  </span><span class="m">442</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:21<span class="w"> </span>.git
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>schacon<span class="w">  </span>staff<span class="w">   </span><span class="m">92</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:21<span class="w"> </span>.gitmodules
drwxr-xr-x<span class="w">   </span><span class="m">2</span><span class="w"> </span>schacon<span class="w">  </span>staff<span class="w">   </span><span class="m">68</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:21<span class="w"> </span>DbConnector
-rw-r--r--<span class="w">   </span><span class="m">1</span><span class="w"> </span>schacon<span class="w">  </span>staff<span class="w">  </span><span class="m">756</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:21<span class="w"> </span>Makefile
drwxr-xr-x<span class="w">   </span><span class="m">3</span><span class="w"> </span>schacon<span class="w">  </span>staff<span class="w">  </span><span class="m">102</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:21<span class="w"> </span>includes
drwxr-xr-x<span class="w">   </span><span class="m">4</span><span class="w"> </span>schacon<span class="w">  </span>staff<span class="w">  </span><span class="m">136</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:21<span class="w"> </span>scripts
drwxr-xr-x<span class="w">   </span><span class="m">4</span><span class="w"> </span>schacon<span class="w">  </span>staff<span class="w">  </span><span class="m">136</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">15</span>:21<span class="w"> </span>src
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>DbConnector/
$<span class="w"> </span>ls
$
</code></pre></div>
<p>其中有 <code>DbConnector</code> 目录，不过是空的。 你必须运行两个命令：<code>git submodule init</code> 用来初始化本地配置文件，而 <code>git submodule update</code> 则从该项目中抓取所有数据并检出父项目中列出的合适的提交。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>init
Submodule<span class="w"> </span><span class="s1">'DbConnector'</span><span class="w"> </span><span class="o">(</span>https://github.com/chaconinc/DbConnector<span class="o">)</span><span class="w"> </span>registered<span class="w"> </span><span class="k">for</span><span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>
$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">'DbConnector'</span>...
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">11</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">10</span>/10<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">11</span>/11<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Checking<span class="w"> </span>connectivity...<span class="w"> </span><span class="k">done</span>.
Submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>:<span class="w"> </span>checked<span class="w"> </span>out<span class="w"> </span><span class="s1">'c3f01dc8862123d317dd46284b05b6892c7b29bc'</span>
</code></pre></div>
<p>现在 DbConnector 子目录是处在和之前提交时相同的状态了。</p>
<p>不过还有更简单一点的方式。 如果给 <code>git clone</code> 命令传递 <code>--recurse-submodules</code> 选项，它就会自动初始化并更新仓库中的每一个子模块， 包括可能存在的嵌套子模块。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>--recurse-submodules<span class="w"> </span>https://github.com/chaconinc/MainProject
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">'MainProject'</span>...
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">14</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">13</span>/13<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">1</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">14</span>/14<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Checking<span class="w"> </span>connectivity...<span class="w"> </span><span class="k">done</span>.
Submodule<span class="w"> </span><span class="s1">'DbConnector'</span><span class="w"> </span><span class="o">(</span>https://github.com/chaconinc/DbConnector<span class="o">)</span><span class="w"> </span>registered<span class="w"> </span><span class="k">for</span><span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">'DbConnector'</span>...
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">11</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">10</span>/10<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">11</span>/11<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Checking<span class="w"> </span>connectivity...<span class="w"> </span><span class="k">done</span>.
Submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>:<span class="w"> </span>checked<span class="w"> </span>out<span class="w"> </span><span class="s1">'c3f01dc8862123d317dd46284b05b6892c7b29bc'</span>
</code></pre></div>
<p>如果你已经克隆了项目但忘记了 <code>--recurse-submodules</code>，那么可以运行 <code>git submodule update --init</code> 将 <code>git submodule init</code> 和 <code>git submodule update</code> 合并成一步。如果还要初始化、抓取并检出任何嵌套的子模块， 请使用简明的 <code>git submodule update --init --recursive</code>。</p>
<h3 id="_3">在包含子模块的项目上工作</h3>
<p>现在我们有一份包含子模块的项目副本，我们将会同时在主项目和子模块项目上与队员协作。</p>
<h4 id="_4">从子模块的远端拉取上游修改</h4>
<p>在项目中使用子模块的最简模型，就是只使用子项目并不时地获取更新，而并不在你的检出中进行任何更改。 我们来看一个简单的例子。</p>
<p>如果想要在子模块中查看新工作，可以进入到目录中运行 <code>git fetch</code> 与 <code>git merge</code>，合并上游分支来更新本地代码。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>fetch
From<span class="w"> </span>https://github.com/chaconinc/DbConnector
<span class="w">   </span>c3f01dc..d0354fc<span class="w">  </span>master<span class="w">     </span>-&gt;<span class="w"> </span>origin/master
$<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>origin/master
Updating<span class="w"> </span>c3f01dc..d0354fc
Fast-forward
<span class="w"> </span>scripts/connect.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>+
<span class="w"> </span>src/db.c<span class="w">           </span><span class="p">|</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>+
<span class="w"> </span><span class="m">2</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">2</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>
</code></pre></div>
<p>如果你现在返回到主项目并运行 <code>git diff --submodule</code>，就会看到子模块被更新的同时获得了一个包含新添加提交的列表。 如果你不想每次运行 <code>git diff</code> 时都输入 <code>--submodule</code>，那么可以将 <code>diff.submodule</code> 设置为 “<code>log</code>” 来将其作为默认行为。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>diff.submodule<span class="w"> </span>log
$<span class="w"> </span>git<span class="w"> </span>diff
Submodule<span class="w"> </span>DbConnector<span class="w"> </span>c3f01dc..d0354fc:
<span class="w">  </span>&gt;<span class="w"> </span>more<span class="w"> </span>efficient<span class="w"> </span>db<span class="w"> </span>routine
<span class="w">  </span>&gt;<span class="w"> </span>better<span class="w"> </span>connection<span class="w"> </span>routine
</code></pre></div>
<p>如果在此时提交，那么你会将子模块锁定为其他人更新时的新代码。</p>
<p>如果你不想在子目录中手动抓取与合并，那么还有种更容易的方式。 运行 git submodule update --remote，Git 将会进入子模块然后抓取并更新。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--remote<span class="w"> </span>DbConnector
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">4</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">2</span>/2<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">2</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">2</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">4</span>/4<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
From<span class="w"> </span>https://github.com/chaconinc/DbConnector
<span class="w">   </span>3f19983..d0354fc<span class="w">  </span>master<span class="w">     </span>-&gt;<span class="w"> </span>origin/master
Submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>:<span class="w"> </span>checked<span class="w"> </span>out<span class="w"> </span><span class="s1">'d0354fc054692d3906c85c3af05ddce39a1c0644'</span>
</code></pre></div>
<p>此命令默认会假定你想要更新并检出子模块仓库的 <code>master</code> 分支。 不过你也可以设置为想要的其他分支。 例如，你想要 <code>DbConnector</code> 子模块跟踪仓库的 “<code>stable</code>” 分支，那么既可以在 <code>.gitmodules</code> 文件中设置 （这样其他人也可以跟踪它），也可以只在本地的 <code>.git/config</code> 文件中设置。 让我们在 <code>.gitmodules</code> 文件中设置它：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>-f<span class="w"> </span>.gitmodules<span class="w"> </span>submodule.DbConnector.branch<span class="w"> </span>stable

$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--remote
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">4</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">2</span>/2<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">2</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">2</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">4</span>/4<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
From<span class="w"> </span>https://github.com/chaconinc/DbConnector
<span class="w">   </span>27cf5d3..c87d55d<span class="w">  </span>stable<span class="w"> </span>-&gt;<span class="w"> </span>origin/stable
Submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>:<span class="w"> </span>checked<span class="w"> </span>out<span class="w"> </span><span class="s1">'c87d55d4c6d4b05ee34fbc8cb6f7bf4585ae6687'</span>
</code></pre></div>
<p>如果不用 <code>-f .gitmodules</code> 选项，那么它只会为你做修改。但是在仓库中保留跟踪信息更有意义一些，因为其他人也可以得到同样的效果。</p>
<p>这时我们运行 <code>git status</code>，Git 会显示子模块中有“新提交”。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up-to-date<span class="w"> </span>with<span class="w"> </span><span class="s1">'origin/master'</span>.

Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git checkout -- &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>

<span class="w">  </span>modified:<span class="w">   </span>.gitmodules
<span class="w">  </span>modified:<span class="w">   </span>DbConnector<span class="w"> </span><span class="o">(</span>new<span class="w"> </span>commits<span class="o">)</span>

no<span class="w"> </span>changes<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add"</span><span class="w"> </span>and/or<span class="w"> </span><span class="s2">"git commit -a"</span><span class="o">)</span>
</code></pre></div>
<p>如果你设置了配置选项 status.submodulesummary，Git 也会显示你的子模块的更改摘要：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>status.submodulesummary<span class="w"> </span><span class="m">1</span>

$<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up-to-date<span class="w"> </span>with<span class="w"> </span><span class="s1">'origin/master'</span>.

Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git checkout -- &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>

<span class="w"> </span>modified:<span class="w">   </span>.gitmodules
<span class="w"> </span>modified:<span class="w">   </span>DbConnector<span class="w"> </span><span class="o">(</span>new<span class="w"> </span>commits<span class="o">)</span>

Submodules<span class="w"> </span>changed<span class="w"> </span>but<span class="w"> </span>not<span class="w"> </span>updated:

*<span class="w"> </span>DbConnector<span class="w"> </span>c3f01dc...c87d55d<span class="w"> </span><span class="o">(</span><span class="m">4</span><span class="o">)</span>:
<span class="w">  </span>&gt;<span class="w"> </span>catch<span class="w"> </span>non-null<span class="w"> </span>terminated<span class="w"> </span>lines
</code></pre></div>
<p>这时如果运行 <code>git diff</code>，可以看到我们修改了 <code>.gitmodules</code> 文件，同时还有几个已拉取的提交需要提交到我们自己的子模块项目中。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>diff
diff<span class="w"> </span>--git<span class="w"> </span>a/.gitmodules<span class="w"> </span>b/.gitmodules
index<span class="w"> </span>6fc0b3d..fd1cc29<span class="w"> </span><span class="m">100644</span>
---<span class="w"> </span>a/.gitmodules
+++<span class="w"> </span>b/.gitmodules
@@<span class="w"> </span>-1,3<span class="w"> </span>+1,4<span class="w"> </span>@@
<span class="w"> </span><span class="o">[</span>submodule<span class="w"> </span><span class="s2">"DbConnector"</span><span class="o">]</span>
<span class="w">        </span><span class="nv">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>DbConnector
<span class="w">        </span><span class="nv">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>https://github.com/chaconinc/DbConnector
+<span class="w">       </span><span class="nv">branch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>stable
<span class="w"> </span>Submodule<span class="w"> </span>DbConnector<span class="w"> </span>c3f01dc..c87d55d:
<span class="w">  </span>&gt;<span class="w"> </span>catch<span class="w"> </span>non-null<span class="w"> </span>terminated<span class="w"> </span>lines
<span class="w">  </span>&gt;<span class="w"> </span>more<span class="w"> </span>robust<span class="w"> </span>error<span class="w"> </span>handling
<span class="w">  </span>&gt;<span class="w"> </span>more<span class="w"> </span>efficient<span class="w"> </span>db<span class="w"> </span>routine
<span class="w">  </span>&gt;<span class="w"> </span>better<span class="w"> </span>connection<span class="w"> </span>routine
</code></pre></div>
<p>这非常有趣，因为我们可以直接看到将要提交到子模块中的提交日志。 提交之后，你也可以运行 <code>git log -p</code> 查看这个信息。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>-p<span class="w"> </span>--submodule
commit<span class="w"> </span>0a24cfc121a8a3c118e0105ae4ae4c00281cf7ae
Author:<span class="w"> </span>Scott<span class="w"> </span>Chacon<span class="w"> </span>&lt;schacon@gmail.com&gt;
Date:<span class="w">   </span>Wed<span class="w"> </span>Sep<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">16</span>:37:02<span class="w"> </span><span class="m">2014</span><span class="w"> </span>+0200

<span class="w">    </span>updating<span class="w"> </span>DbConnector<span class="w"> </span><span class="k">for</span><span class="w"> </span>bug<span class="w"> </span>fixes

diff<span class="w"> </span>--git<span class="w"> </span>a/.gitmodules<span class="w"> </span>b/.gitmodules
index<span class="w"> </span>6fc0b3d..fd1cc29<span class="w"> </span><span class="m">100644</span>
---<span class="w"> </span>a/.gitmodules
+++<span class="w"> </span>b/.gitmodules
@@<span class="w"> </span>-1,3<span class="w"> </span>+1,4<span class="w"> </span>@@
<span class="w"> </span><span class="o">[</span>submodule<span class="w"> </span><span class="s2">"DbConnector"</span><span class="o">]</span>
<span class="w">        </span><span class="nv">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>DbConnector
<span class="w">        </span><span class="nv">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>https://github.com/chaconinc/DbConnector
+<span class="w">       </span><span class="nv">branch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>stable
Submodule<span class="w"> </span>DbConnector<span class="w"> </span>c3f01dc..c87d55d:
<span class="w">  </span>&gt;<span class="w"> </span>catch<span class="w"> </span>non-null<span class="w"> </span>terminated<span class="w"> </span>lines
<span class="w">  </span>&gt;<span class="w"> </span>more<span class="w"> </span>robust<span class="w"> </span>error<span class="w"> </span>handling
<span class="w">  </span>&gt;<span class="w"> </span>more<span class="w"> </span>efficient<span class="w"> </span>db<span class="w"> </span>routine
<span class="w">  </span>&gt;<span class="w"> </span>better<span class="w"> </span>connection<span class="w"> </span>routine
</code></pre></div>
<p>当运行 <code>git submodule update --remote</code> 时，Git 默认会尝试更新 所有 子模块， 所以如果有很多子模块的话，你可以传递想要更新的子模块的名字。</p>
<h4 id="_5">从项目远端拉取上游更改</h4>
<p>现在，让我们站在协作者的视角，他有自己的 <code>MainProject</code> 仓库的本地克隆， 只是执行 <code>git pull</code> 获取你新提交的更改还不够：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>pull
From<span class="w"> </span>https://github.com/chaconinc/MainProject
<span class="w">   </span>fb9093c..0a24cfc<span class="w">  </span>master<span class="w">     </span>-&gt;<span class="w"> </span>origin/master
Fetching<span class="w"> </span>submodule<span class="w"> </span>DbConnector
From<span class="w"> </span>https://github.com/chaconinc/DbConnector
<span class="w">   </span>c3f01dc..c87d55d<span class="w">  </span>stable<span class="w">     </span>-&gt;<span class="w"> </span>origin/stable
Updating<span class="w"> </span>fb9093c..0a24cfc
Fast-forward
<span class="w"> </span>.gitmodules<span class="w">         </span><span class="p">|</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>+-
<span class="w"> </span>DbConnector<span class="w">         </span><span class="p">|</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>+-
<span class="w"> </span><span class="m">2</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">2</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">2</span><span class="w"> </span>deletions<span class="o">(</span>-<span class="o">)</span>

$<span class="w"> </span>git<span class="w"> </span>status
<span class="w"> </span>On<span class="w"> </span>branch<span class="w"> </span>master
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up-to-date<span class="w"> </span>with<span class="w"> </span><span class="s1">'origin/master'</span>.
Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git checkout -- &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>

<span class="w"> </span>modified:<span class="w">   </span>DbConnector<span class="w"> </span><span class="o">(</span>new<span class="w"> </span>commits<span class="o">)</span>

Submodules<span class="w"> </span>changed<span class="w"> </span>but<span class="w"> </span>not<span class="w"> </span>updated:

*<span class="w"> </span>DbConnector<span class="w"> </span>c87d55d...c3f01dc<span class="w"> </span><span class="o">(</span><span class="m">4</span><span class="o">)</span>:
<span class="w">  </span>&lt;<span class="w"> </span>catch<span class="w"> </span>non-null<span class="w"> </span>terminated<span class="w"> </span>lines
<span class="w">  </span>&lt;<span class="w"> </span>more<span class="w"> </span>robust<span class="w"> </span>error<span class="w"> </span>handling
<span class="w">  </span>&lt;<span class="w"> </span>more<span class="w"> </span>efficient<span class="w"> </span>db<span class="w"> </span>routine
<span class="w">  </span>&lt;<span class="w"> </span>better<span class="w"> </span>connection<span class="w"> </span>routine

no<span class="w"> </span>changes<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add"</span><span class="w"> </span>and/or<span class="w"> </span><span class="s2">"git commit -a"</span><span class="o">)</span>
</code></pre></div>
<p>默认情况下，<code>git pull</code> 命令会递归地抓取子模块的更改，如上面第一个命令的输出所示。 然而，它不会 更新 子模块。这点可通过 <code>git status</code> 命令看到，它会显示子模块“已修改”，且“有新的提交”。 此外，左边的尖括号（&lt;）指出了新的提交，表示这些提交已在 MainProject 中记录，但尚未在本地的 DbConnector 中检出。 为了完成更新，你需要运行 <code>git submodule update</code>：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init<span class="w"> </span>--recursive
Submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'vendor/plugins/demo'</span>:<span class="w"> </span>checked<span class="w"> </span>out<span class="w"> </span><span class="s1">'48679c6302815f6c76f1fe30625d795d9e55fc56'</span>

$<span class="w"> </span>git<span class="w"> </span>status
<span class="w"> </span>On<span class="w"> </span>branch<span class="w"> </span>master
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up-to-date<span class="w"> </span>with<span class="w"> </span><span class="s1">'origin/master'</span>.
nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean
</code></pre></div>
<p>请注意，为安全起见，如果 MainProject 提交了你刚拉取的新子模块，那么应该在 git submodule update 后面添加 --init 选项，如果子模块有嵌套的子模块，则应使用 --recursive 选项。</p>
<p>如果你想自动化此过程，那么可以为 <code>git pull</code> 命令添加 <code>--recurse-submodules</code> 选项（从 Git 2.14 开始）。 这会让 Git 在拉取后运行 <code>git submodule update</code>，将子模块置为正确的状态。 此外，如果你想让 Git 总是以 <code>--recurse-submodules</code> 拉取，可以将配置选项 <code>submodule.recurse</code> 设置为 <code>true</code> （从 Git 2.15 开始可用于 <code>git pull</code>）。此选项会让 Git 为所有支持 <code>--recurse-submodules</code> 的命令使用该选项（除 clone 以外）。</p>
<p>在为父级项目拉取更新时，还会出现一种特殊的情况：在你拉取的提交中， 可能 <code>.gitmodules</code> 文件中记录的子模块的 URL 发生了改变。 比如，若子模块项目改变了它的托管平台，就会发生这种情况。 此时，若父级项目引用的子模块提交不在仓库中本地配置的子模块远端上，那么执行 <code>git pull --recurse-submodules</code> 或 <code>git submodule update</code> 就会失败。 为了补救，需要借助 <code>git submodule sync</code> 命令：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 将新的 URL 复制到本地配置中</span>
$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>sync<span class="w"> </span>--recursive
<span class="c1"># 从新 URL 更新子模块</span>
$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init<span class="w"> </span>--recursive
</code></pre></div>
<h4 id="_6">在子模块上工作</h4>
<p>你很有可能正在使用子模块，因为你确实想在子模块中编写代码的同时，还想在主项目上编写代码（或者跨子模块工作）。 否则你大概只能用简单的依赖管理系统（如 Maven 或 Rubygems）来替代了。</p>
<p>现在我们将通过一个例子来演示如何在子模块与主项目中同时做修改，以及如何同时提交与发布那些修改。</p>
<p>到目前为止，当我们运行 <code>git submodule update</code> 从子模块仓库中抓取修改时， Git 将会获得这些改动并更新子目录中的文件，但是会将子仓库留在一个称作“游离的 HEAD”的状态。 这意味着没有本地工作分支（例如 “master” ）跟踪改动。 如果没有工作分支跟踪更改，也就意味着即便你将更改提交到了子模块，这些更改也很可能会在下次运行 <code>git submodule update</code> 时丢失。如果你想要在子模块中跟踪这些修改，还需要一些额外的步骤。</p>
<p>为了将子模块设置得更容易进入并修改，你需要做两件事。 首先，进入每个子模块并检出其相应的工作分支。 接着，若你做了更改就需要告诉 Git 它该做什么，然后运行 <code>git submodule update --remote</code> 来从上游拉取新工作。 你可以选择将它们合并到你的本地工作中，也可以尝试将你的工作变基到新的更改上。</p>
<p>首先，让我们进入子模块目录然后检出一个分支。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>DbConnector/
$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>stable
Switched<span class="w"> </span>to<span class="w"> </span>branch<span class="w"> </span><span class="s1">'stable'</span>
</code></pre></div>
<p>然后尝试用 “<code>merge</code>” 选项来更新子模块。 为了手动指定它，我们只需给 <code>update</code> 添加 <code>--merge</code> 选项即可。 这时我们将会看到服务器上的这个子模块有一个改动并且它被合并了进来。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>..
$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--remote<span class="w"> </span>--merge
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">4</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">2</span>/2<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">2</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">2</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">4</span>/4<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
From<span class="w"> </span>https://github.com/chaconinc/DbConnector
<span class="w">   </span>c87d55d..92c7337<span class="w">  </span>stable<span class="w">     </span>-&gt;<span class="w"> </span>origin/stable
Updating<span class="w"> </span>c87d55d..92c7337
Fast-forward
<span class="w"> </span>src/main.c<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>+
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>
Submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>:<span class="w"> </span>merged<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">'92c7337b30ef9e0893e758dac2459d07362ab5ea'</span>
</code></pre></div>
<p>如果我们进入 <code>DbConnector</code> 目录，可以发现新的改动已经合并入本地 <code>stable</code> 分支。 现在让我们看看当我们对库做一些本地的改动而同时其他人推送另外一个修改到上游时会发生什么。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>DbConnector/
$<span class="w"> </span>vim<span class="w"> </span>src/db.c
$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s1">'unicode support'</span>
<span class="o">[</span>stable<span class="w"> </span>f906e16<span class="o">]</span><span class="w"> </span>unicode<span class="w"> </span>support
<span class="w"> </span><span class="m">1</span><span class="w"> </span>file<span class="w"> </span>changed,<span class="w"> </span><span class="m">1</span><span class="w"> </span>insertion<span class="o">(</span>+<span class="o">)</span>
<span class="w"> </span><span class="sb">```</span>

<span class="w"> </span>如果我们现在更新子模块，就会看到当我们在本地做了更改时上游也有一个改动，我们需要将它并入本地。

<span class="sb">```</span>shell
<span class="w"> </span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>..
$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--remote<span class="w"> </span>--rebase
First,<span class="w"> </span>rewinding<span class="w"> </span>head<span class="w"> </span>to<span class="w"> </span>replay<span class="w"> </span>your<span class="w"> </span>work<span class="w"> </span>on<span class="w"> </span>top<span class="w"> </span>of<span class="w"> </span>it...
Applying:<span class="w"> </span>unicode<span class="w"> </span>support
Submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>:<span class="w"> </span>rebased<span class="w"> </span>into<span class="w"> </span><span class="s1">'5d60ef9bbebf5a0c1c1050f242ceeb54ad58da94'</span>
</code></pre></div>
<p>如果你忘记 <code>--rebase</code> 或 <code>--merge</code>，Git 会将子模块更新为服务器上的状态。并且会将项目重置为一个游离的 <code>HEAD</code> 状态。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--remote
Submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>:<span class="w"> </span>checked<span class="w"> </span>out<span class="w"> </span><span class="s1">'5d60ef9bbebf5a0c1c1050f242ceeb54ad58da94'</span>
</code></pre></div>
<p>即便这真的发生了也不要紧，你只需回到目录中再次检出你的分支（即还包含着你的工作的分支）然后手动地合并或变基 <code>origin/stable</code>（或任何一个你想要的远程分支）就行了。</p>
<p>如果你没有提交子模块的改动，那么运行一个子模块更新也不会出现问题，此时 Git 会只抓取更改而并不会覆盖子模块目录中未保存的工作。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--remote
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">4</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">3</span>/3<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">4</span>/4<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
From<span class="w"> </span>https://github.com/chaconinc/DbConnector
<span class="w">   </span>5d60ef9..c75e92a<span class="w">  </span>stable<span class="w">     </span>-&gt;<span class="w"> </span>origin/stable
error:<span class="w"> </span>Your<span class="w"> </span><span class="nb">local</span><span class="w"> </span>changes<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>files<span class="w"> </span>would<span class="w"> </span>be<span class="w"> </span>overwritten<span class="w"> </span>by<span class="w"> </span>checkout:
<span class="w"> </span>scripts/setup.sh
Please,<span class="w"> </span>commit<span class="w"> </span>your<span class="w"> </span>changes<span class="w"> </span>or<span class="w"> </span>stash<span class="w"> </span>them<span class="w"> </span>before<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>switch<span class="w"> </span>branches.
Aborting
Unable<span class="w"> </span>to<span class="w"> </span>checkout<span class="w"> </span><span class="s1">'c75e92a2b3855c9e5b66f915308390d9db204aca'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>
</code></pre></div>
<p>如果你做了一些与上游改动冲突的改动，当运行更新时 Git 会让你知道。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--remote<span class="w"> </span>--merge
Auto-merging<span class="w"> </span>scripts/setup.sh
CONFLICT<span class="w"> </span><span class="o">(</span>content<span class="o">)</span>:<span class="w"> </span>Merge<span class="w"> </span>conflict<span class="w"> </span><span class="k">in</span><span class="w"> </span>scripts/setup.sh
Recorded<span class="w"> </span>preimage<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">'scripts/setup.sh'</span>
Automatic<span class="w"> </span>merge<span class="w"> </span>failed<span class="p">;</span><span class="w"> </span>fix<span class="w"> </span>conflicts<span class="w"> </span>and<span class="w"> </span><span class="k">then</span><span class="w"> </span>commit<span class="w"> </span>the<span class="w"> </span>result.
Unable<span class="w"> </span>to<span class="w"> </span>merge<span class="w"> </span><span class="s1">'c75e92a2b3855c9e5b66f915308390d9db204aca'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'DbConnector'</span>
</code></pre></div>
<p>你可以进入子模块目录中然后就像平时那样修复冲突。</p>
<h4 id="_7">发布子模块改动</h4>
<p>现在我们的子模块目录中有一些改动。 其中有一些是我们通过更新从上游引入的，而另一些是本地生成的，由于我们还没有推送它们，所以对任何其他人都不可用。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>diff
Submodule<span class="w"> </span>DbConnector<span class="w"> </span>c87d55d..82d2ad3:
<span class="w">  </span>&gt;<span class="w"> </span>Merge<span class="w"> </span>from<span class="w"> </span>origin/stable
<span class="w">  </span>&gt;<span class="w"> </span>updated<span class="w"> </span>setup<span class="w"> </span>script
<span class="w">  </span>&gt;<span class="w"> </span>unicode<span class="w"> </span>support
<span class="w">  </span>&gt;<span class="w"> </span>remove<span class="w"> </span>unnecessary<span class="w"> </span>method
<span class="w">  </span>&gt;<span class="w"> </span>add<span class="w"> </span>new<span class="w"> </span>option<span class="w"> </span><span class="k">for</span><span class="w"> </span>conn<span class="w"> </span>pooling
</code></pre></div>
<p>如果我们在主项目中提交并推送但并不推送子模块上的改动，其他尝试检出我们修改的人会遇到麻烦， 因为他们无法得到依赖的子模块改动。那些改动只存在于我们本地的拷贝中。</p>
<p>为了确保这不会发生，你可以让 Git 在推送到主项目前检查所有子模块是否已推送。 <code>git push</code> 命令接受可以设置为 “<code>check</code>” 或 “<code>on-demand</code>” 的 <code>--recurse-submodules</code> 参数。 如果任何提交的子模块改动没有推送那么 “<code>check</code>” 选项会直接使 <code>push</code> 操作失败。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>--recurse-submodules<span class="o">=</span>check
The<span class="w"> </span>following<span class="w"> </span>submodule<span class="w"> </span>paths<span class="w"> </span>contain<span class="w"> </span>changes<span class="w"> </span>that<span class="w"> </span>can
not<span class="w"> </span>be<span class="w"> </span>found<span class="w"> </span>on<span class="w"> </span>any<span class="w"> </span>remote:
<span class="w">  </span>DbConnector

Please<span class="w"> </span>try

<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>--recurse-submodules<span class="o">=</span>on-demand

or<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>path<span class="w"> </span>and<span class="w"> </span>use

<span class="w"> </span>git<span class="w"> </span>push

to<span class="w"> </span>push<span class="w"> </span>them<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>remote.
</code></pre></div>
<p>如你所见，它也给我们了一些有用的建议，指导接下来该如何做。 最简单的选项是进入每一个子模块中然后手动推送到远程仓库，确保它们能被外部访问到，之后再次尝试这次推送。 如果你想要对所有推送都执行检查，那么可以通过设置 <code>git config push.recurseSubmodules check</code> 让它成为默认行为。</p>
<p>另一个选项是使用 “on-demand” 值，它会尝试为你这样做。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>--recurse-submodules<span class="o">=</span>on-demand
Pushing<span class="w"> </span>submodule<span class="w"> </span><span class="s1">'DbConnector'</span>
Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">9</span>,<span class="w"> </span><span class="k">done</span>.
Delta<span class="w"> </span>compression<span class="w"> </span>using<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">8</span><span class="w"> </span>threads.
Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">8</span>/8<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Writing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">9</span>/9<span class="o">)</span>,<span class="w"> </span><span class="m">917</span><span class="w"> </span>bytes<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>bytes/s,<span class="w"> </span><span class="k">done</span>.
Total<span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">3</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
To<span class="w"> </span>https://github.com/chaconinc/DbConnector
<span class="w">   </span>c75e92a..82d2ad3<span class="w">  </span>stable<span class="w"> </span>-&gt;<span class="w"> </span>stable
Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">2</span>,<span class="w"> </span><span class="k">done</span>.
Delta<span class="w"> </span>compression<span class="w"> </span>using<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">8</span><span class="w"> </span>threads.
Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">2</span>/2<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Writing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">2</span>/2<span class="o">)</span>,<span class="w"> </span><span class="m">266</span><span class="w"> </span>bytes<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>bytes/s,<span class="w"> </span><span class="k">done</span>.
Total<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">1</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
To<span class="w"> </span>https://github.com/chaconinc/MainProject
<span class="w">   </span>3d6d338..9a377d1<span class="w">  </span>master<span class="w"> </span>-&gt;<span class="w"> </span>master
</code></pre></div>
<p>如你所见，Git 进入到 DbConnector 模块中然后在推送主项目前推送了它。 如果那个子模块因为某些原因推送失败，主项目也会推送失败。 你也可以通过设置 <code>git config push.recurseSubmodules on-demand</code> 让它成为默认行为。</p>
<h4 id="_8">合并子模块改动</h4>
<p>如果你和其他人同时改动了一个子模块引用，那么可能会遇到一些问题。 也就是说，如果子模块的历史已经分叉并且在父项目中分别提交到了分叉的分支上，那么你需要做一些工作来修复它。</p>
<p>如果一个提交是另一个的直接祖先（一个快进式合并），那么 Git 会简单地选择之后的提交来合并，这样没什么问题。</p>
<p>不过，Git 甚至不会尝试去进行一次简单的合并。 如果子模块提交已经分叉且需要合并，那你会得到类似下面的信息：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>pull
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">2</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">1</span>/1<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">1</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">1</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">2</span>/2<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
From<span class="w"> </span>https://github.com/chaconinc/MainProject
<span class="w">   </span>9a377d1..eb974f8<span class="w">  </span>master<span class="w">     </span>-&gt;<span class="w"> </span>origin/master
Fetching<span class="w"> </span>submodule<span class="w"> </span>DbConnector
warning:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>merge<span class="w"> </span>submodule<span class="w"> </span>DbConnector<span class="w"> </span><span class="o">(</span>merge<span class="w"> </span>following<span class="w"> </span>commits<span class="w"> </span>not<span class="w"> </span>found<span class="o">)</span>
Auto-merging<span class="w"> </span>DbConnector
CONFLICT<span class="w"> </span><span class="o">(</span>submodule<span class="o">)</span>:<span class="w"> </span>Merge<span class="w"> </span>conflict<span class="w"> </span><span class="k">in</span><span class="w"> </span>DbConnector
Automatic<span class="w"> </span>merge<span class="w"> </span>failed<span class="p">;</span><span class="w"> </span>fix<span class="w"> </span>conflicts<span class="w"> </span>and<span class="w"> </span><span class="k">then</span><span class="w"> </span>commit<span class="w"> </span>the<span class="w"> </span>result.
</code></pre></div>
<p>所以本质上 Git 在这里指出了子模块历史中的两个分支记录点已经分叉并且需要合并。 它将其解释为 “merge following commits not found” （未找到接下来需要合并的提交），虽然这有点令人困惑，不过之后我们会解释为什么是这样。</p>
<p>为了解决这个问题，你需要弄清楚子模块应该处于哪种状态。 奇怪的是，Git 并不会给你多少能帮你摆脱困境的信息，甚至连两边提交历史中的 SHA-1 值都没有。 幸运的是，这很容易解决。 如果你运行 <code>git diff</code>，就会得到试图合并的两个分支中记录的提交的 SHA-1 值。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>diff
diff<span class="w"> </span>--cc<span class="w"> </span>DbConnector
index<span class="w"> </span>eb41d76,c771610..0000000
---<span class="w"> </span>a/DbConnector
+++<span class="w"> </span>b/DbConnector
</code></pre></div>
<p>所以，在本例中，eb41d76 是我们的子模块中大家共有的提交，而 c771610 是上游拥有的提交。 如果我们进入子模块目录中，它应该已经在 eb41d76 上了，因为合并没有动过它。 如果不是的话，无论什么原因，你都可以简单地创建并检出一个指向它的分支。</p>
<p>来自另一边的提交的 SHA-1 值比较重要。 它是需要你来合并解决的。 你可以尝试直接通过 SHA-1 合并，也可以为它创建一个分支然后尝试合并。 我们建议后者，哪怕只是为了一个更漂亮的合并提交信息。</p>
<p>所以，我们将会进入子模块目录，基于 <code>git diff</code> 的第二个 SHA-1 创建一个分支然后手动合并。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>DbConnector

$<span class="w"> </span>git<span class="w"> </span>rev-parse<span class="w"> </span>HEAD
eb41d764bccf88be77aced643c13a7fa86714135

$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>try-merge<span class="w"> </span>c771610
<span class="o">(</span>DbConnector<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>try-merge
Auto-merging<span class="w"> </span>src/main.c
CONFLICT<span class="w"> </span><span class="o">(</span>content<span class="o">)</span>:<span class="w"> </span>Merge<span class="w"> </span>conflict<span class="w"> </span><span class="k">in</span><span class="w"> </span>src/main.c
Recorded<span class="w"> </span>preimage<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">'src/main.c'</span>
Automatic<span class="w"> </span>merge<span class="w"> </span>failed<span class="p">;</span><span class="w"> </span>fix<span class="w"> </span>conflicts<span class="w"> </span>and<span class="w"> </span><span class="k">then</span><span class="w"> </span>commit<span class="w"> </span>the<span class="w"> </span>result.
</code></pre></div>
<p>我们在这儿得到了一个真正的合并冲突，所以如果想要解决并提交它，那么只需简单地通过结果来更新主项目。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>vim<span class="w"> </span>src/main.c<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span>
$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>src/main.c
$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s1">'merged our changes'</span>
Recorded<span class="w"> </span>resolution<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">'src/main.c'</span>.
<span class="o">[</span>master<span class="w"> </span>9fd905e<span class="o">]</span><span class="w"> </span>merged<span class="w"> </span>our<span class="w"> </span>changes

$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>..<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="o">)</span>
$<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span><span class="o">(</span><span class="m">3</span><span class="o">)</span>
diff<span class="w"> </span>--cc<span class="w"> </span>DbConnector
index<span class="w"> </span>eb41d76,c771610..0000000
---<span class="w"> </span>a/DbConnector
+++<span class="w"> </span>b/DbConnector
@@@<span class="w"> </span>-1,1<span class="w"> </span>-1,1<span class="w"> </span>+1,1<span class="w"> </span>@@@
-<span class="w"> </span>Subproject<span class="w"> </span>commit<span class="w"> </span>eb41d764bccf88be77aced643c13a7fa86714135
<span class="w"> </span>-Subproject<span class="w"> </span>commit<span class="w"> </span>c77161012afbbe1f58b5053316ead08f4b7e6d1d
++Subproject<span class="w"> </span>commit<span class="w"> </span>9fd905e5d7f45a0d4cbc43d1ee550f16a30e825a
$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>DbConnector<span class="w"> </span><span class="o">(</span><span class="m">4</span><span class="o">)</span>

$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">"Merge Tom's Changes"</span><span class="w"> </span><span class="o">(</span><span class="m">5</span><span class="o">)</span>
<span class="o">[</span>master<span class="w"> </span>10d2c60<span class="o">]</span><span class="w"> </span>Merge<span class="w"> </span>Tom<span class="err">'</span>s<span class="w"> </span>Changes
</code></pre></div>
<ol>
<li>首先解决冲突</li>
<li>然后返回到主项目目录中</li>
<li>再次检查 SHA-1 值</li>
<li>解决冲突的子模块记录</li>
<li>提交我们的合并</li>
</ol>
<p>这可能会让你有点儿困惑，但它确实不难。</p>
<p>有趣的是，Git 还能处理另一种情况。 如果子模块目录中存在着这样一个合并提交，它的历史中包含了的两边的提交，那么 Git 会建议你将它作为一个可行的解决方案。 它看到有人在子模块项目的某一点上合并了包含这两次提交的分支，所以你可能想要那个。</p>
<p>这就是为什么前面的错误信息是 “merge following commits not found”，因为它不能 这样 做。 它让人困惑是因为谁能想到它会尝试这样做？</p>
<p>如果它找到了一个可以接受的合并提交，你会看到类似下面的信息：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>origin/master
warning:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>merge<span class="w"> </span>submodule<span class="w"> </span>DbConnector<span class="w"> </span><span class="o">(</span>not<span class="w"> </span>fast-forward<span class="o">)</span>
Found<span class="w"> </span>a<span class="w"> </span>possible<span class="w"> </span>merge<span class="w"> </span>resolution<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>submodule:
<span class="w"> </span>9fd905e5d7f45a0d4cbc43d1ee550f16a30e825a:<span class="w"> </span>&gt;<span class="w"> </span>merged<span class="w"> </span>our<span class="w"> </span>changes
If<span class="w"> </span>this<span class="w"> </span>is<span class="w"> </span>correct<span class="w"> </span>simply<span class="w"> </span>add<span class="w"> </span>it<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>index<span class="w"> </span><span class="k">for</span><span class="w"> </span>example
by<span class="w"> </span>using:

<span class="w">  </span>git<span class="w"> </span>update-index<span class="w"> </span>--cacheinfo<span class="w"> </span><span class="m">160000</span><span class="w"> </span>9fd905e5d7f45a0d4cbc43d1ee550f16a30e825a<span class="w"> </span><span class="s2">"DbConnector"</span>

which<span class="w"> </span>will<span class="w"> </span>accept<span class="w"> </span>this<span class="w"> </span>suggestion.
Auto-merging<span class="w"> </span>DbConnector
CONFLICT<span class="w"> </span><span class="o">(</span>submodule<span class="o">)</span>:<span class="w"> </span>Merge<span class="w"> </span>conflict<span class="w"> </span><span class="k">in</span><span class="w"> </span>DbConnector
Automatic<span class="w"> </span>merge<span class="w"> </span>failed<span class="p">;</span><span class="w"> </span>fix<span class="w"> </span>conflicts<span class="w"> </span>and<span class="w"> </span><span class="k">then</span><span class="w"> </span>commit<span class="w"> </span>the<span class="w"> </span>result.
</code></pre></div>
<p>Git 建议的命令是更新索引，就像你运行了 <code>git add</code> 那样，这样会清除冲突然后提交。 不过你可能不应该这样做。你可以轻松地进入子模块目录，查看差异是什么，快进到这次提交，恰当地测试，然后提交它。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>DbConnector/
$<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>9fd905e
Updating<span class="w"> </span>eb41d76..9fd905e
Fast-forward

$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>..
$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>DbConnector
$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s1">'Fast forwarded to a common submodule child'</span>
</code></pre></div>
<p>这些命令完成了同一件事，但是通过这种方式你至少可以验证工作是否有效，以及当你在完成时可以确保子模块目录中有你的代码。</p>
<h3 id="_9">子模块的技巧</h3>
<p>你可以做几件事情来让用子模块工作轻松一点儿。</p>
<h4 id="_10">子模块遍历</h4>
<p>有一个 foreach 子模块命令，它能在每一个子模块中运行任意命令。 如果项目中包含了大量子模块，这会非常有用。</p>
<p>例如，假设我们想要开始开发一项新功能或者修复一些错误，并且需要在几个子模块内工作。 我们可以轻松地保存所有子模块的工作进度。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>foreach<span class="w"> </span><span class="s1">'git stash'</span>
Entering<span class="w"> </span><span class="s1">'CryptoLibrary'</span>
No<span class="w"> </span><span class="nb">local</span><span class="w"> </span>changes<span class="w"> </span>to<span class="w"> </span>save
Entering<span class="w"> </span><span class="s1">'DbConnector'</span>
Saved<span class="w"> </span>working<span class="w"> </span>directory<span class="w"> </span>and<span class="w"> </span>index<span class="w"> </span>state<span class="w"> </span>WIP<span class="w"> </span>on<span class="w"> </span>stable:<span class="w"> </span>82d2ad3<span class="w"> </span>Merge<span class="w"> </span>from<span class="w"> </span>origin/stable
HEAD<span class="w"> </span>is<span class="w"> </span>now<span class="w"> </span>at<span class="w"> </span>82d2ad3<span class="w"> </span>Merge<span class="w"> </span>from<span class="w"> </span>origin/stable
</code></pre></div>
<p>然后我们可以创建一个新分支，并将所有子模块都切换过去。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>foreach<span class="w"> </span><span class="s1">'git checkout -b featureA'</span>
Entering<span class="w"> </span><span class="s1">'CryptoLibrary'</span>
Switched<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>branch<span class="w"> </span><span class="s1">'featureA'</span>
Entering<span class="w"> </span><span class="s1">'DbConnector'</span>
Switched<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>branch<span class="w"> </span><span class="s1">'featureA'</span>
</code></pre></div>
<p>你应该明白。 能够生成一个主项目与所有子项目的改动的统一差异是非常有用的。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>diff<span class="p">;</span><span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>foreach<span class="w"> </span><span class="s1">'git diff'</span>
Submodule<span class="w"> </span>DbConnector<span class="w"> </span>contains<span class="w"> </span>modified<span class="w"> </span>content
diff<span class="w"> </span>--git<span class="w"> </span>a/src/main.c<span class="w"> </span>b/src/main.c
index<span class="w"> </span>210f1ae..1f0acdc<span class="w"> </span><span class="m">100644</span>
---<span class="w"> </span>a/src/main.c
+++<span class="w"> </span>b/src/main.c
@@<span class="w"> </span>-245,6<span class="w"> </span>+245,8<span class="w"> </span>@@<span class="w"> </span>static<span class="w"> </span>int<span class="w"> </span>handle_alias<span class="o">(</span>int<span class="w"> </span>*argcp,<span class="w"> </span>const<span class="w"> </span>char<span class="w"> </span>***argv<span class="o">)</span>

<span class="w">      </span>commit_pager_choice<span class="o">()</span><span class="p">;</span>

+<span class="w">     </span><span class="nv">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>url_decode<span class="o">(</span>url_orig<span class="o">)</span><span class="p">;</span>
+
<span class="w">      </span>/*<span class="w"> </span>build<span class="w"> </span>alias_argv<span class="w"> </span>*/
<span class="w">      </span><span class="nv">alias_argv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>xmalloc<span class="o">(</span>sizeof<span class="o">(</span>*alias_argv<span class="o">)</span><span class="w"> </span>*<span class="w"> </span><span class="o">(</span>argc<span class="w"> </span>+<span class="w"> </span><span class="m">1</span><span class="o">))</span><span class="p">;</span>
<span class="w">      </span>alias_argv<span class="o">[</span><span class="m">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>alias_string<span class="w"> </span>+<span class="w"> </span><span class="m">1</span><span class="p">;</span>
Entering<span class="w"> </span><span class="s1">'DbConnector'</span>
diff<span class="w"> </span>--git<span class="w"> </span>a/src/db.c<span class="w"> </span>b/src/db.c
index<span class="w"> </span>1aaefb6..5297645<span class="w"> </span><span class="m">100644</span>
---<span class="w"> </span>a/src/db.c
+++<span class="w"> </span>b/src/db.c
@@<span class="w"> </span>-93,6<span class="w"> </span>+93,11<span class="w"> </span>@@<span class="w"> </span>char<span class="w"> </span>*url_decode_mem<span class="o">(</span>const<span class="w"> </span>char<span class="w"> </span>*url,<span class="w"> </span>int<span class="w"> </span>len<span class="o">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span>url_decode_internal<span class="o">(</span><span class="p">&amp;</span>url,<span class="w"> </span>len,<span class="w"> </span>NULL,<span class="w"> </span><span class="p">&amp;</span>out,<span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="p">;</span>
<span class="w"> </span><span class="o">}</span>

+char<span class="w"> </span>*url_decode<span class="o">(</span>const<span class="w"> </span>char<span class="w"> </span>*url<span class="o">)</span>
+<span class="o">{</span>
+<span class="w">       </span><span class="k">return</span><span class="w"> </span>url_decode_mem<span class="o">(</span>url,<span class="w"> </span>strlen<span class="o">(</span>url<span class="o">))</span><span class="p">;</span>
+<span class="o">}</span>
+
<span class="w"> </span>char<span class="w"> </span>*url_decode_parameter_name<span class="o">(</span>const<span class="w"> </span>char<span class="w"> </span>**query<span class="o">)</span>
<span class="w"> </span><span class="o">{</span>
<span class="w">        </span>struct<span class="w"> </span>strbuf<span class="w"> </span><span class="nv">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>STRBUF_INIT<span class="p">;</span>
</code></pre></div>
<p>在这里，我们看到子模块中定义了一个函数并在主项目中调用了它。 这明显是个简化了的例子，但是希望它能让你明白这种方法的用处。</p>
<h4 id="_11">有用的别名</h4>
<p>你可能想为其中一些命令设置别名，因为它们可能会非常长而你又不能设置选项作为它们的默认选项。 我们在 Git 别名 介绍了设置 Git 别名， 但是如果你计划在 Git 中大量使用子模块的话，这里有一些例子。</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>config<span class="w"> </span>alias.sdiff<span class="w"> </span><span class="s1">'!'</span><span class="s2">"git diff &amp;&amp; git submodule foreach 'git diff'"</span>
git<span class="w"> </span>config<span class="w"> </span>alias.spush<span class="w"> </span><span class="s1">'push --recurse-submodules=on-demand'</span>
git<span class="w"> </span>config<span class="w"> </span>alias.supdate<span class="w"> </span><span class="s1">'submodule update --remote --merge'</span>
</code></pre></div>
<p>这样当你想要更新子模块时可以简单地运行 git supdate，或 git spush 检查子模块依赖后推送。</p>
<h3 id="_12">子模块的问题</h3>
<p>然而使用子模块还是有一些小问题。</p>
<h4 id="_13">切换分支</h4>
<p>例如，使用 Git 2.13 以前的版本时，在有子模块的项目中切换分支可能会造成麻烦。 如果你创建一个新分支，在其中添加一个子模块，之后切换到没有该子模块的分支上时，你仍然会有一个还未跟踪的子模块目录。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>--version
git<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.12.2

$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>add-crypto
Switched<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>branch<span class="w"> </span><span class="s1">'add-crypto'</span>

$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>add<span class="w"> </span>https://github.com/chaconinc/CryptoLibrary
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">'CryptoLibrary'</span>...
...

$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s1">'adding crypto library'</span>
<span class="o">[</span>add-crypto<span class="w"> </span><span class="m">4445836</span><span class="o">]</span><span class="w"> </span>adding<span class="w"> </span>crypto<span class="w"> </span>library
<span class="w"> </span><span class="m">2</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">4</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>
<span class="w"> </span>create<span class="w"> </span>mode<span class="w"> </span><span class="m">160000</span><span class="w"> </span>CryptoLibrary

$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>master
warning:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>rmdir<span class="w"> </span>CryptoLibrary:<span class="w"> </span>Directory<span class="w"> </span>not<span class="w"> </span>empty
Switched<span class="w"> </span>to<span class="w"> </span>branch<span class="w"> </span><span class="s1">'master'</span>
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up-to-date<span class="w"> </span>with<span class="w"> </span><span class="s1">'origin/master'</span>.

$<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up-to-date<span class="w"> </span>with<span class="w"> </span><span class="s1">'origin/master'</span>.

Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>

<span class="w"> </span>CryptoLibrary/

nothing<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span>but<span class="w"> </span>untracked<span class="w"> </span>files<span class="w"> </span>present<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add"</span><span class="w"> </span>to<span class="w"> </span>track<span class="o">)</span>
</code></pre></div>
<p>移除那个目录并不困难，但是有一个目录在那儿会让人有一点困惑。 如果你移除它然后切换回有那个子模块的分支，需要运行 <code>submodule update --init</code> 来重新建立和填充。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>clean<span class="w"> </span>-fdx
Removing<span class="w"> </span>CryptoLibrary/

$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>add-crypto
Switched<span class="w"> </span>to<span class="w"> </span>branch<span class="w"> </span><span class="s1">'add-crypto'</span>

$<span class="w"> </span>ls<span class="w"> </span>CryptoLibrary/

$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init
Submodule<span class="w"> </span>path<span class="w"> </span><span class="s1">'CryptoLibrary'</span>:<span class="w"> </span>checked<span class="w"> </span>out<span class="w"> </span><span class="s1">'b8dda6aa182ea4464f3f3264b11e0268545172af'</span>

$<span class="w"> </span>ls<span class="w"> </span>CryptoLibrary/
Makefile<span class="w"> </span>includes<span class="w"> </span>scripts<span class="w">  </span>src
</code></pre></div>
<p>再说一遍，这真的不难，只是会让人有点儿困惑。</p>
<p>新版的 Git（&gt;= 2.13）通过为 <code>git checkout</code> 命令添加 <code>--recurse-submodules</code> 选项简化了所有这些步骤， 它能为了我们要切换到的分支让子模块处于的正确状态。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>--version
git<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.13.3

$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>add-crypto
Switched<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>branch<span class="w"> </span><span class="s1">'add-crypto'</span>

$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>add<span class="w"> </span>https://github.com/chaconinc/CryptoLibrary
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">'CryptoLibrary'</span>...
...

$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s1">'adding crypto library'</span>
<span class="o">[</span>add-crypto<span class="w"> </span><span class="m">4445836</span><span class="o">]</span><span class="w"> </span>adding<span class="w"> </span>crypto<span class="w"> </span>library
<span class="w"> </span><span class="m">2</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">4</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>
<span class="w"> </span>create<span class="w"> </span>mode<span class="w"> </span><span class="m">160000</span><span class="w"> </span>CryptoLibrary

$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>--recurse-submodules<span class="w"> </span>master
Switched<span class="w"> </span>to<span class="w"> </span>branch<span class="w"> </span><span class="s1">'master'</span>
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up-to-date<span class="w"> </span>with<span class="w"> </span><span class="s1">'origin/master'</span>.

$<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Your<span class="w"> </span>branch<span class="w"> </span>is<span class="w"> </span>up-to-date<span class="w"> </span>with<span class="w"> </span><span class="s1">'origin/master'</span>.

nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean
</code></pre></div>
<p>当你在父级项目的几个分支上工作时，对 <code>git checkout</code> 使用 <code>--recurse-submodules</code> 选项也很有用， 它能让你的子模块处于不同的提交上。确实，如果你在记录了子模块的不同提交的分支上切换， 那么在执行 <code>git status</code> 后子模块会显示为“已修改”并指出“新的提交”。 这是因为子模块的状态默认不会在切换分支时保留。</p>
<p>这点非常让人困惑，因此当你的项目中拥有子模块时，可以总是使用 <code>git checkout --recurse-submodules</code>。 （对于没有 <code>--recurse-submodules</code> 选项的旧版 Git，在检出之后可使用 <code>git submodule update --init --recursive</code> 来让子模块处于正确的状态）。</p>
<p>幸运的是，你可以通过 <code>git config submodule.recurse true</code> 设置 <code>submodule.recurse</code> 选项， 告诉 Git（&gt;=2.14）总是使用 <code>--recurse-submodules</code>。 如上所述，这也会让 Git 为每个拥有 <code>--recurse-submodules</code> 选项的命令（除了 <code>git clone</code>） 总是递归地在子模块中执行。</p>
<h4 id="_14">从子目录切换到子模块</h4>
<p>另一个主要的告诫是许多人遇到了将子目录转换为子模块的问题。 如果你在项目中已经跟踪了一些文件，然后想要将它们移动到一个子模块中，那么请务必小心，否则 Git 会对你发脾气。 假设项目内有一些文件在子目录中，你想要将其转换为一个子模块。 如果删除子目录然后运行 <code>submodule add</code>，Git 会朝你大喊：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>rm<span class="w"> </span>-Rf<span class="w"> </span>CryptoLibrary/
$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>add<span class="w"> </span>https://github.com/chaconinc/CryptoLibrary
<span class="s1">'CryptoLibrary'</span><span class="w"> </span>already<span class="w"> </span>exists<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>index
</code></pre></div>
<p>你必须要先取消暂存 <code>CryptoLibrary</code> 目录。 然后才可以添加子模块：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>rm<span class="w"> </span>-r<span class="w"> </span>CryptoLibrary
$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>add<span class="w"> </span>https://github.com/chaconinc/CryptoLibrary
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">'CryptoLibrary'</span>...
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">11</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">10</span>/10<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">0</span><span class="o">)</span>
Unpacking<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">11</span>/11<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Checking<span class="w"> </span>connectivity...<span class="w"> </span><span class="k">done</span>.
</code></pre></div>
<p>现在假设你在一个分支下做了这样的工作。 如果尝试切换回的分支中那些文件还在子目录而非子模块中时——你会得到这个错误：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>master
error:<span class="w"> </span>The<span class="w"> </span>following<span class="w"> </span>untracked<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>files<span class="w"> </span>would<span class="w"> </span>be<span class="w"> </span>overwritten<span class="w"> </span>by<span class="w"> </span>checkout:
<span class="w">  </span>CryptoLibrary/Makefile
<span class="w">  </span>CryptoLibrary/includes/crypto.h
<span class="w">  </span>...
Please<span class="w"> </span>move<span class="w"> </span>or<span class="w"> </span>remove<span class="w"> </span>them<span class="w"> </span>before<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>switch<span class="w"> </span>branches.
Aborting
</code></pre></div>
<p>你可以通过 <code>checkout -f</code> 来强制切换，但是要小心，如果其中还有未保存的修改，这个命令会把它们覆盖掉。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>-f<span class="w"> </span>master
warning:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>rmdir<span class="w"> </span>CryptoLibrary:<span class="w"> </span>Directory<span class="w"> </span>not<span class="w"> </span>empty
Switched<span class="w"> </span>to<span class="w"> </span>branch<span class="w"> </span><span class="s1">'master'</span>
</code></pre></div>
<p>当你切换回来之后，因为某些原因你得到了一个空的 CryptoLibrary 目录，并且 <code>git submodule update</code> 也无法修复它。 你需要进入到子模块目录中运行 <code>git checkout</code> . 来找回所有的文件。 你也可以通过 <code>submodule foreach</code> 脚本来为多个子模块运行它。</p>
<p>要特别注意的是，近来子模块会将它们的所有 Git 数据保存在顶级项目的 <code>.git</code> 目录中，所以不像旧版本的 Git，摧毁一个子模块目录并不会丢失任何提交或分支。</p>
<p>拥有了这些工具，使用子模块会成为可以在几个相关但却分离的项目上同时开发的相当简单有效的方法。</p>
<h2 id="712">7.12 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E6%89%93%E5%8C%85" target="_blank">打包</a></h2>
<h2 id="713">7.13 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E6%9B%BF%E6%8D%A2" target="_blank">替换</a></h2>
<h2 id="714">7.14 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%87%AD%E8%AF%81%E5%AD%98%E5%82%A8" target="_blank">凭证存储</a></h2>
<h2 id="715">7.15 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E6%80%BB%E7%BB%93" target="_blank">总结</a></h2>
<p>你已经接触了很多能够精确地操控提交和暂存区的高级工具。 当你碰到问题时，你应该可以很容易找出是哪个分支在什么时候由谁引入了它们。 如果你想在项目中使用子项目，你也已经知道如何来满足这些需求。 到此，你应该能毫无压力地在命令行中使用 Git 来完成日常中的大部分事情。</p>
<hr/>
<div class="md-source-file">
<small>
    
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2023年2月25日</span>
<br/>
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2023年2月25日</span>
</small>
</div>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            回到页面顶部
          </a>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "toc.follow"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
<script src="../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
<script src="../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>