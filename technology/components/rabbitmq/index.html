
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../supervisor/">
      
      
        <link rel="next" href="../kafka/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.13">
    
    
      
        <title>rabbitmq - 我的工作学习生活笔记</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.ffa9267a.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="default" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rabbitmq" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="我的工作学习生活笔记" class="md-header__button md-logo" aria-label="我的工作学习生活笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            我的工作学习生活笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              rabbitmq
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      首页
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../python/" class="md-tabs__link md-tabs__link--active">
        技术
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../read/english/bluelevel/" class="md-tabs__link">
        阅读
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../invest/webs/" class="md-tabs__link">
        投资
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../tools/repos/" class="md-tabs__link">
        工具
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../documents/docs/" class="md-tabs__link">
        文档
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../e-book/" class="md-tabs__link">
      电子书
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../other/front_links/" class="md-tabs__link">
        其他
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../about/" class="md-tabs__link">
      关于
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="我的工作学习生活笔记" class="md-nav__button md-logo" aria-label="我的工作学习生活笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    我的工作学习生活笔记
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        首页
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          技术
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          技术
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/" class="md-nav__link">
        安装
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pip/" class="md-nav__link">
        pip
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/stringio/" class="md-nav__link">
        StringIO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/flask/" class="md-nav__link">
        flask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/logging/" class="md-nav__link">
        logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/importlib/" class="md-nav__link">
        importlib
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pycrypto/" class="md-nav__link">
        crypto
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/petl/" class="md-nav__link">
        petl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/psutil/" class="md-nav__link">
        psutil
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/docx/" class="md-nav__link">
        Docx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/excel/" class="md-nav__link">
        Excel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/reportlab/" class="md-nav__link">
        reportlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/alembic/" class="md-nav__link">
        alembic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/sqlalchemy/" class="md-nav__link">
        sqlalchemy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/useful_functions/" class="md-nav__link">
        常用函数合集
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/usage_source/" class="md-nav__link">
        常用资源
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/port/" class="md-nav__link">
        端口占用查找
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/disk-mount/" class="md-nav__link">
        linux磁盘挂载
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/shell-scripts/" class="md-nav__link">
        shell脚本实战
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          前端知识
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          前端知识
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../front/base/" class="md-nav__link">
        基础
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../front/project/" class="md-nav__link">
        工程化流程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../front/version/" class="md-nav__link">
        包版本知识
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../front/package/" class="md-nav__link">
        package.json知识
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../front/webassembly/" class="md-nav__link">
        WebAssembly
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          服务组件
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          服务组件
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zookeeper/" class="md-nav__link">
        zookeeper
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nginx/" class="md-nav__link">
        nginx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../supervisor/" class="md-nav__link">
        supervisor
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          rabbitmq
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        rabbitmq
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    下载和安装
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rpm" class="md-nav__link">
    rpm安装
  </a>
  
    <nav class="md-nav" aria-label="rpm安装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    下载地址和软件更新
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#erlang" class="md-nav__link">
    安装 Erlang
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq_1" class="md-nav__link">
    安装 RabbitMQ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq_2" class="md-nav__link">
    RabbitMQ 防火墙配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq_3" class="md-nav__link">
    RabbitMQ 设置自动启动
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq-web" class="md-nav__link">
    RabbitMQ 启用 Web 管理界面
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    消息队列模式
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    用户角色管理
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    虚拟主机
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    启用后台管理插件
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kafka/" class="md-nav__link">
        kafka
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_6" >
      
      
      
        <label class="md-nav__link" for="__nav_2_4_6" id="__nav_2_4_6_label" tabindex="0">
          无头浏览器
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4_6">
          <span class="md-nav__icon md-icon"></span>
          无头浏览器
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../unheadchrome/openchrome/" class="md-nav__link">
        openchrome
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../unheadchrome/build_env/" class="md-nav__link">
        环境搭建
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
      
      
      
        <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
          数据库
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          数据库
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/clickhouse/" class="md-nav__link">
        ClickHouse
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_5_2" id="__nav_2_5_2_label" tabindex="0">
          MySQL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_5_2">
          <span class="md-nav__icon md-icon"></span>
          MySQL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/mysql8_install/" class="md-nav__link">
        mysql8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/mysql/" class="md-nav__link">
        常用操作
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_5_3" id="__nav_2_5_3_label" tabindex="0">
          ElasticSearch
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_5_3">
          <span class="md-nav__icon md-icon"></span>
          ElasticSearch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/elasticsearch_py/" class="md-nav__link">
        elasticsearch-py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/es_dsl/" class="md-nav__link">
        elasticsearch-dsl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../database/es_aggs/" class="md-nav__link">
        elasticsearch-aggs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
      
      
      
        <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
          安全渗透
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          安全渗透
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/thc-hydra/" class="md-nav__link">
        hydra
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../security/sqlmap/" class="md-nav__link">
        sqlmap
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
      
      
      
        <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
          RFC标准
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_7">
          <span class="md-nav__icon md-icon"></span>
          RFC标准
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../rfc/oauth2/" class="md-nav__link">
        oauth2学习笔记
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../rfc/rfc6749/" class="md-nav__link">
        Oauth2-RFC6749翻译
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../rfc/rfc6750/" class="md-nav__link">
        Oauth2-RFC6750翻译
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
      
      
      
        <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
          知识概念
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_8">
          <span class="md-nav__icon md-icon"></span>
          知识概念
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concept/xaas/" class="md-nav__link">
        xaas概念
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concept/users/" class="md-nav__link">
        统一用户管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concept/etl/" class="md-nav__link">
        ETL数据处理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concept/data_transfer/" class="md-nav__link">
        数据传输和对接
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concept/understand_computer_system/" class="md-nav__link">
        深入理解计算机系统
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
      
      
      
        <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
          其他
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_9">
          <span class="md-nav__icon md-icon"></span>
          其他
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../other/backup/" class="md-nav__link">
        暂无
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          阅读
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          阅读
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          英语
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          英语
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/english/bluelevel/" class="md-nav__link">
        BlueLevel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/english/redlevel/" class="md-nav__link">
        RedLevel
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          书籍
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          书籍
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/book/howtoreadbook/" class="md-nav__link">
        如何阅读一本书
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/howtoavoid/" class="md-nav__link">
        如何避免愚蠢的见识
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          投资
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          投资
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../invest/webs/" class="md-nav__link">
        理财网站
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          工具
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          工具
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/repos/" class="md-nav__link">
        仓库合集
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          文档
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          文档
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../documents/docs/" class="md-nav__link">
        文档合集
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../e-book/" class="md-nav__link">
        电子书
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          其他
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          其他
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../other/front_links/" class="md-nav__link">
        前端常用地址
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../other/back_links/" class="md-nav__link">
        后端常用地址
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../other/other_links/" class="md-nav__link">
        其他常用地址
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../other/become_leader/" class="md-nav__link">
        成为高手秘籍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../other/zym_weibo/" class="md-nav__link">
        张一鸣微博
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        关于
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    下载和安装
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rpm" class="md-nav__link">
    rpm安装
  </a>
  
    <nav class="md-nav" aria-label="rpm安装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    下载地址和软件更新
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#erlang" class="md-nav__link">
    安装 Erlang
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq_1" class="md-nav__link">
    安装 RabbitMQ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq_2" class="md-nav__link">
    RabbitMQ 防火墙配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq_3" class="md-nav__link">
    RabbitMQ 设置自动启动
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq-web" class="md-nav__link">
    RabbitMQ 启用 Web 管理界面
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    消息队列模式
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    用户角色管理
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    虚拟主机
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    启用后台管理插件
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="rabbitmq">Rabbitmq 消息队列服务</h1>
<ul>
<li>编写时间: 2022年08月26日15:21:16</li>
<li>rabbitmq官方文档: <a href="https://www.rabbitmq.com/documentation.html">https://www.rabbitmq.com/documentation.html</a></li>
<li>docker hub 官方地址: <a href="https://hub.docker.com/_/rabbitmq">https://hub.docker.com/_/rabbitmq</a></li>
<li>默认端口:<ul>
<li>5672: 通信端口</li>
<li>15672: http管理端口</li>
</ul>
</li>
</ul>
<h2 id="_1">下载和安装</h2>
<p>官方文档: <a href="https://www.rabbitmq.com/download.html">https://www.rabbitmq.com/download.html</a></p>
<div class="highlight"><pre><span></span><code><span class="c1"># docker 安装:</span>
<span class="c1"># latest RabbitMQ 3.10</span>
docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>--name<span class="w"> </span>rabbitmq<span class="w"> </span>-p<span class="w"> </span><span class="m">5672</span>:5672<span class="w"> </span>-p<span class="w"> </span><span class="m">15672</span>:15672<span class="w"> </span>rabbitmq:3.10-management
</code></pre></div>
<h2 id="rpm">rpm安装</h2>
<p>原文: <a href="https://www.cwiki.us/display/RabbitMQZH/Install+RabbitMQ+Server+on+CentOS+7">Install RabbitMQ Server on CentOS 7</a></p>
<h3 id="_2">下载地址和软件更新</h3>
<p>Erlang 23.3.4.11 版本的下载地址，请参考链接： <a href="https://packagecloud.io/rabbitmq/erlang/packages/el/7/erlang-23.3.4.11-1.el7.x86_64.rpm">https://packagecloud.io/rabbitmq/erlang/packages/el/7/erlang-23.3.4.11-1.el7.x86_64.rpm</a></p>
<p>RabbitMQ 3.9.15 的下载地址，请参考链接：<a href="https://www.rabbitmq.com/install-rpm.html">https://www.rabbitmq.com/install-rpm.html</a></p>
<p>使用登录上你的 CentOS 7 服务器后，首先需要查看你的服务器是否安装了 wget，如果没有安装 wget，请运行 yum install wget 进行安装。</p>
<div class="highlight"><pre><span></span><code>yum<span class="w"> </span>install<span class="w"> </span>wget
</code></pre></div>
<p>当 wget 安装完成后，运行</p>
<div class="highlight"><pre><span></span><code>yum<span class="w"> </span>update
</code></pre></div>
<p>来更新你的服务器。</p>
<h3 id="erlang">安装 Erlang</h3>
<p>首先你需要下载 Erlang ，然后进行安装，在上面提到的地址  <a href="https://packagecloud.io/rabbitmq/erlang/packages/el/7/erlang-23.3.4.11-1.el7.x86_64.rpm?distro_version_id=140">https://packagecloud.io/rabbitmq/erlang/packages/el/7/erlang-23.3.4.11-1.el7.x86_64.rpm?distro_version_id=140</a> 中的右侧有一个 wget 的地址。</p>
<p><img alt="aa" src="https://www.cwiki.us/download/attachments/53969106/Erlang-download.jpg?version=1&amp;modificationDate=1570851866000&amp;api=v2" /></p>
<p>你可以运行</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>--content-disposition<span class="w"> </span>https://packagecloud.io/rabbitmq/erlang/packages/el/7/erlang-23.3.4.11-1.el7.x86_64.rpm/download.rpm?distro_version_id<span class="o">=</span><span class="m">140</span>
</code></pre></div>
<p>来进行下载。</p>
<p>当你下载到你的本地计算机后，运行命令</p>
<div class="highlight"><pre><span></span><code>yum<span class="w"> </span>localinstall<span class="w"> </span>rabbitmq-server-3.9.15-1.el7.noarch.rpm
</code></pre></div>
<p>来安装你下载的 rpm 包。</p>
<p>当你安装完成后，你可以运行命令</p>
<div class="highlight"><pre><span></span><code>erl<span class="w"> </span>-version
</code></pre></div>
<p>来查看你安装的 erl 版本。</p>
<p>在这里，你可以看到这显示的版本低 Erlang emulator 版本，与你下载的 Erlang 版本是不同的。</p>
<h3 id="rabbitmq_1">安装 RabbitMQ</h3>
<p>运行下面的命令，将 RabbitMQ 下载到你服务器上。</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.9.15/rabbitmq-server-3.9.15-1.el7.noarch.rpm
</code></pre></div>
<p>当你下载完成后，你需要运行下面的命令来将 Key 导入。</p>
<div class="highlight"><pre><span></span><code>rpm<span class="w"> </span>--import<span class="w"> </span>https://www.rabbitmq.com/rabbitmq-release-signing-key.asc
</code></pre></div>
<p>使用 yum 进行本地安装，运行命令：</p>
<div class="highlight"><pre><span></span><code>yum<span class="w"> </span>localinstall<span class="w">  </span>rabbitmq-server-3.9.15-1.el7.noarch.rpm
</code></pre></div>
<p>当安装完成后，你可以使用命令来启动 rabbitmq 服务器：</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>start<span class="w"> </span>rabbitmq-server
</code></pre></div>
<h3 id="rabbitmq_2">RabbitMQ 防火墙配置</h3>
<p>RabbitMQ 的运行需要一系列的端口。因此你需要配置你的防火墙将下面的端口打开。</p>
<p>如果你使用的是 firewalld，那么请依次执行下面的命令。</p>
<p>打开防火墙端口：</p>
<div class="highlight"><pre><span></span><code>firewall-cmd<span class="w"> </span>--zone<span class="o">=</span>public<span class="w"> </span>--permanent<span class="w"> </span>--add-port<span class="o">=</span><span class="m">4369</span>/tcp
firewall-cmd<span class="w"> </span>--zone<span class="o">=</span>public<span class="w"> </span>--permanent<span class="w"> </span>--add-port<span class="o">=</span><span class="m">25672</span>/tcp
firewall-cmd<span class="w"> </span>--zone<span class="o">=</span>public<span class="w"> </span>--permanent<span class="w"> </span>--add-port<span class="o">=</span><span class="m">5671</span>-5672/tcp
firewall-cmd<span class="w"> </span>--zone<span class="o">=</span>public<span class="w"> </span>--permanent<span class="w"> </span>--add-port<span class="o">=</span><span class="m">15672</span>/tcp
firewall-cmd<span class="w"> </span>--zone<span class="o">=</span>public<span class="w"> </span>--permanent<span class="w"> </span>--add-port<span class="o">=</span><span class="m">61613</span>-61614/tcp
firewall-cmd<span class="w"> </span>--zone<span class="o">=</span>public<span class="w"> </span>--permanent<span class="w"> </span>--add-port<span class="o">=</span><span class="m">1883</span>/tcp
firewall-cmd<span class="w"> </span>--zone<span class="o">=</span>public<span class="w"> </span>--permanent<span class="w"> </span>--add-port<span class="o">=</span><span class="m">8883</span>/tcp
</code></pre></div>
<p>将防火墙配置重新载入：</p>
<div class="highlight"><pre><span></span><code>firewall-cmd<span class="w"> </span>--reload
</code></pre></div>
<p>绝大部分情况，当你执行完上面的命令后，你的 RabbitMQ 应该能够正常访问了。</p>
<p>如果你的服务器还启用了 SELinux 的话，你还需要执行下面的命令来让让 RabbitMQ 服务器能够接收发送网络数据：</p>
<div class="highlight"><pre><span></span><code>setsebool<span class="w"> </span>-P<span class="w"> </span>nis_enabled<span class="w"> </span><span class="m">1</span>
</code></pre></div>
<h3 id="rabbitmq_3">RabbitMQ 设置自动启动</h3>
<p>在安装完成后，我们希望 RabbitMQ 能开机自动启动。</p>
<p>请执行下面的命令，来让 RabbitMQ 随着计算机开机后自动启动：</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>rabbitmq-server
</code></pre></div>
<p>使用下面命令查看 RabbitMQ 的进程运行状态：</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>status<span class="w"> </span>rabbitmq-server
</code></pre></div>
<p>根据服务器的不同，会有不同的输出，我们的输出如下，表示 RabbitMQ 目前是正在运行的。</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@vps263579<span class="w"> </span>yhu<span class="o">]</span><span class="c1"># systemctl status rabbitmq-server</span>

●<span class="w"> </span>rabbitmq-server.service<span class="w"> </span>-<span class="w"> </span>RabbitMQ<span class="w"> </span>broker
Loaded:<span class="w"> </span>loaded<span class="w"> </span><span class="o">(</span>/usr/lib/systemd/system/rabbitmq-server.service<span class="p">;</span><span class="w"> </span>enabled<span class="p">;</span><span class="w"> </span>vendor<span class="w"> </span>preset:<span class="w"> </span>disabled<span class="o">)</span>
Active:<span class="w"> </span>active<span class="w"> </span><span class="o">(</span>running<span class="o">)</span><span class="w"> </span>since<span class="w"> </span>Fri<span class="w"> </span><span class="m">2019</span>-10-11<span class="w"> </span><span class="m">14</span>:10:14<span class="w"> </span>EDT<span class="p">;</span><span class="w"> </span>9h<span class="w"> </span>ago
Main<span class="w"> </span>PID:<span class="w"> </span><span class="m">14895</span><span class="w"> </span><span class="o">(</span>beam.smp<span class="o">)</span>
Status:<span class="w"> </span><span class="s2">&quot;Initialized&quot;</span>
CGroup:<span class="w"> </span>/system.slice/rabbitmq-server.service
├─14895<span class="w"> </span>/usr/lib64/erlang/erts-10.3.5.6/bin/beam.smp<span class="w"> </span>-W<span class="w"> </span>w<span class="w"> </span>-A<span class="w"> </span><span class="m">64</span><span class="w"> </span>-MBas<span class="w"> </span>ageffcbf<span class="w"> </span>-MHas<span class="w"> </span>ageffcbf<span class="w"> </span>-MBlmbcs<span class="w"> </span><span class="m">512</span><span class="w"> </span>-MHlmbcs<span class="w"> </span><span class="m">512</span><span class="w"> </span>-MMmcs<span class="w"> </span><span class="m">30</span><span class="w"> </span>-P<span class="w"> </span><span class="m">1048576</span><span class="w"> </span>-t<span class="w"> </span><span class="m">5000000</span><span class="w"> </span>-stbt<span class="w"> </span>db<span class="w"> </span>-zdbbl<span class="w"> </span><span class="m">128000</span><span class="w"> </span>-K<span class="w"> </span><span class="nb">true</span><span class="w"> </span>--<span class="w"> </span>-root<span class="w"> </span>/usr/lib64/erlang<span class="w"> </span>-progn...
├─15123<span class="w"> </span>/usr/lib64/erlang/erts-10.3.5.6/bin/epmd<span class="w"> </span>-daemon
├─15259<span class="w"> </span>erl_child_setup<span class="w"> </span><span class="m">32768</span>
├─15280<span class="w"> </span>inet_gethost<span class="w"> </span><span class="m">4</span>
└─15281<span class="w"> </span>inet_gethost<span class="w"> </span><span class="m">4</span>
</code></pre></div>
<h3 id="rabbitmq-web">RabbitMQ 启用 Web 管理界面</h3>
<p>在默认的情况下 RabbitMQ 的 Web 管理控制台是没有启用的，你需要通过下面的命令来进行启用。</p>
<p>安装 Web 管理界面的插件：</p>
<div class="highlight"><pre><span></span><code>rabbitmq-plugins<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>rabbitmq_management
</code></pre></div>
<p>提供 RabbitMQ 用户和对用户使用的权限进行赋权：</p>
<div class="highlight"><pre><span></span><code>chown<span class="w"> </span>-R<span class="w"> </span>rabbitmq:rabbitmq<span class="w"> </span>/var/lib/rabbitmq/
</code></pre></div>
<p>分别执行下面的命令：</p>
<div class="highlight"><pre><span></span><code>rabbitmqctl<span class="w"> </span>add_user<span class="w"> </span>admin<span class="w"> </span>StrongPassword
rabbitmqctl<span class="w"> </span>set_user_tags<span class="w"> </span>admin<span class="w"> </span>administrator
rabbitmqctl<span class="w"> </span>set_permissions<span class="w"> </span>-p<span class="w"> </span>/<span class="w"> </span>admin<span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w"> </span><span class="s2">&quot;.*&quot;</span>
</code></pre></div>
<p>针对上面命令的解释是，第一个命令创建了一个 admin 的用户，这个用户使用的密码为 StrongPassword。</p>
<p>你可以使用不同的用户名，在我们执行的上面的命令中，用户登录使用的密码为字符 StrongPassword，你可以将这个字符修改为其他的字符，或者你也可以登录成功后在 UI 界面中进行修改。</p>
<p>后面的话是针对这个用户进行赋权。</p>
<p>当上面命令执行成功后，你可以重启你的 RabbitMQ，然后通过浏览器进行登录。UI 界面使用的端口是 15672。因此访问的 URL 为你服务器的地址 + 15672。</p>
<p><a href="http://Your_Server_IP:15672/">http://Your_Server_IP:15672/</a></p>
<p>如果一切正常，你应该能够看到下面的登录界面：</p>
<p><img alt="2" src="https://www.cwiki.us/download/attachments/53969106/Erlang-ui-login.jpg?version=1&amp;modificationDate=1570853130000&amp;api=v2" /></p>
<p>如果你不能访问下面的登录界面，有可能是你的服务器防火墙。</p>
<p>最简单的办法是先禁用服务器的防火墙以确定所有的进程是正常运行的。</p>
<p>如果你登录成功后，你应该能够看到下面 RabbitMQ 的运行界面：</p>
<p><img alt="3" src="https://www.cwiki.us/download/attachments/53969106/Erlang-ui-dashboard.jpg?version=1&amp;modificationDate=1570853703000&amp;api=v2" /></p>
<h2 id="_3">消息队列模式</h2>
<p>官方文档: <a href="https://www.rabbitmq.com/getstarted.html">https://www.rabbitmq.com/getstarted.html</a></p>
<ol>
<li>简单队列模式: <a href="https://www.rabbitmq.com/tutorials/tutorial-one-python.html">https://www.rabbitmq.com/tutorials/tutorial-one-python.html</a></li>
<li>分布式worker模式: <a href="https://www.rabbitmq.com/tutorials/tutorial-two-python.html">https://www.rabbitmq.com/tutorials/tutorial-two-python.html</a></li>
<li>发布/订阅模式: <a href="https://www.rabbitmq.com/tutorials/tutorial-three-python.html">https://www.rabbitmq.com/tutorials/tutorial-three-python.html</a></li>
<li>路由模式: <a href="https://www.rabbitmq.com/tutorials/tutorial-four-python.html">https://www.rabbitmq.com/tutorials/tutorial-four-python.html</a></li>
<li>主题模式: <a href="https://www.rabbitmq.com/tutorials/tutorial-five-python.html">https://www.rabbitmq.com/tutorials/tutorial-five-python.html</a></li>
<li>RPC模式: <a href="https://www.rabbitmq.com/tutorials/tutorial-six-python.html">https://www.rabbitmq.com/tutorials/tutorial-six-python.html</a></li>
<li>自定义模式: <a href="https://www.rabbitmq.com/tutorials/tutorial-seven-java.html">https://www.rabbitmq.com/tutorials/tutorial-seven-java.html</a></li>
</ol>
<h2 id="_4">用户角色管理</h2>
<p>rabbitmq默认的用户名和密码是<code>guest</code>和<code>guest</code>,但为了安全考虑，该用户名和密码只允许本地访问，如果是远程操作的话，需要创建新的用户名和密码；</p>
<p><strong>新建用户</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># root权限</span>
rabbitmqctl<span class="w"> </span>add_user<span class="w"> </span>username<span class="w"> </span>passwd<span class="w">  </span><span class="c1"># 添加用户，后面两个参数分别是用户名和密码</span>
rabbitmqctl<span class="w"> </span>set_permissions<span class="w"> </span>-p<span class="w"> </span>/<span class="w"> </span>username<span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w">  </span><span class="c1"># 添加权限</span>
rabbitmqctl<span class="w"> </span>set_user_tags<span class="w"> </span>username<span class="w"> </span>administrator<span class="w">  </span><span class="c1"># 修改用户角色,将用户设为管理员</span>
</code></pre></div>
<p><strong>用户的角色说明</strong></p>
<div class="highlight"><pre><span></span><code><span class="nt">management</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">用户可以访问管理插件</span>
<span class="nt">policymaker</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">用户可以访问管理插件，并管理他们有权访问的vhost的策略和参数。</span>
<span class="nt">monitoring</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">用户可以访问管理插件，查看所有连接和通道以及与节点相关的信息。</span>
<span class="nt">administrator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">用户可以做任何监视可以做的事情，管理用户，vhost和权限，关闭其他用户的连接，并管理所有vhost的政策和参数。</span>
</code></pre></div>
<blockquote>
<p>使用添加的账户远程访问后台管理站点，将原来的账号guest删除；</p>
</blockquote>
<p><strong>用户管理命令汇总</strong></p>
<ul>
<li>新建用户: <code>rabbitmqctl add_user username passwd</code></li>
<li>删除用户: <code>rabbitmqctl delete_user username</code></li>
<li>改密码: <code>rabbimqctl change_password {username} {newpassword}</code></li>
<li>设置用户角色: <code>rabbitmqctl set_user_tags {username} {tag ...}</code></li>
</ul>
<div class="highlight"><pre><span></span><code>rabbitmqctl<span class="w"> </span>set_permissions<span class="w"> </span>-p<span class="w"> </span>/<span class="w"> </span>username<span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w"> </span><span class="s2">&quot;.*&quot;</span><span class="w">  </span><span class="c1"># 添加权限</span>
</code></pre></div>
<p><strong>权限说明</strong></p>
<div class="highlight"><pre><span></span><code>rabbitmqctl<span class="w"> </span>set_permissions<span class="w"> </span><span class="o">[</span>-pvhostpath<span class="o">]</span><span class="w"> </span><span class="o">{</span>user<span class="o">}</span><span class="w"> </span><span class="o">{</span>conf<span class="o">}</span><span class="w"> </span><span class="o">{</span>write<span class="o">}</span><span class="w"> </span><span class="o">{</span>read<span class="o">}</span>
</code></pre></div>
<ul>
<li>Vhostpath: 虚拟主机，表示该用户可以访问那台虚拟主机；</li>
<li>user: 用户名。</li>
<li>Conf: 一个正则表达式match哪些配置资源能够被该用户访问。</li>
<li>Write: 一个正则表达式match哪些配置资源能够被该用户设置。</li>
<li>Read: 一个正则表达式match哪些配置资源能够被该用户访问。</li>
</ul>
<h2 id="_5">虚拟主机</h2>
<p>默认的用户和队列都是在<code>/</code>虚拟机下。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 创建一个虚拟主机</span>
rabbitmqctl<span class="w"> </span>add_vhost<span class="w"> </span>vhost_name
<span class="c1"># 删除一个虚拟主机</span>
rabbitmqctl<span class="w"> </span>delete_vhost<span class="w"> </span>vhost_name
</code></pre></div>
<p><strong>常用文件路径</strong></p>
<ul>
<li><code>/usr/local/rabbitmq_server/var/log/rabbitmq/rabbit@tms.log</code>: 记录rabbitmq运行日常的日志</li>
<li><code>/usr/local/rabbitmq_server/var/log/rabbitmq/rabbit@tms-sasl.log</code>: rabbitmq的崩溃报告</li>
<li><code>/usr/local/rabbitmq_server/etc/rabbitmq/rabbitmq.config</code>: rabbitmq的配置文件</li>
<li><code>/usr/local/rabbitmq_server/var/lib/rabbitmq/mnesia/rabbit@tms</code>: rabbit消息持久化文件</li>
</ul>
<blockquote>
<p>注意：</p>
<p>如果相应路径的文件不存在就自己创建，如果是使用apt安装或yum安装那么这些文件夹都被自动创建好了。</p>
</blockquote>
<h2 id="_6">启用后台管理插件</h2>
<p>通过后台管理插件我们可以动态监控mq的流量，创建用户，队列等。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 创建目录</span>
mkdir<span class="w"> </span>/etc/rabbitmq

<span class="c1"># 启用插件</span>
/usr/lib/rabbitmq/bin/rabbitmq-plugins<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>rabbitmq_management

<span class="c1"># 其会在/etc/rabbitmq目录下创建一个enabled_plugins文件，这是后台管理的配置文件。</span>
</code></pre></div>
<blockquote>
<p>rabbitmq的网页管理的端口是<code>15672</code>，如果你是远程操作服务器，输入<code>&lt;http://ip:15672&gt;</code>,发现连接不上，因为服务器防火墙不允许这个端口远程访问；</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="c1"># 将mq的tcp监听端口和网页管理端口都设置成允许远程访问</span>

firewall-cmd<span class="w"> </span>--permanent<span class="w"> </span>--add-port<span class="o">=</span><span class="m">15672</span>/tcp
firewall-cmd<span class="w"> </span>--permanent<span class="w"> </span>--add-port<span class="o">=</span><span class="m">5672</span>/tcp
systemctl<span class="w"> </span>restart<span class="w"> </span>firewalld.service
</code></pre></div>
<p><strong>管理界面介绍</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 输入用户名密码登录后进入主界面</span>
<span class="nt">Overview</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">用来显示流量，端口，节点等信息，以及修改配置文件；</span>
<span class="nt">Connections</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">显示所有的TCP连接；</span>
<span class="nt">channels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">显示所有的信道连接；</span>
<span class="nt">exchanges</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">显示所有的交换机以及创建删除等；</span>
<span class="nt">queues</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">显示所有的队列以及创建删除等；</span>
<span class="nt">admins</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">显示所有的用户以及用户管理；</span>
</code></pre></div>

  <hr>
<div class="md-source-file">
  <small>
    
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2023年2月22日</span>
      
        <br>
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2023年2月22日</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "toc.follow"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>